var OrderableFieldsApp=new Vue({el:"#orderable-fields-app",data:{drag:!1,fields:[]},mounted:function(){var e=jQuery("#orderable-fields-app").data("fields");this.fields=Array.isArray(e)?e:[],jQuery("#publishing-action #publish.button").on("click",this.open_field_on_error)},methods:{newField:function(){this.fields.push({id:this.generateFieldID(),type:"text",title:window.orderable_pro_conditions_params.i18n.new_field,description:"",required:!1,options:[],default:"",open:!1,is_multiline:!1,placeholder:""})},generateFieldID(){return min=1e10,max=1e13,min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min},deleteField:function(e){this.fields.splice(e,1)},duplicateField:function(e,i){i.open=!1;i={...i};i.id=this.generateFieldID(),i.open=!0,i.title=i.title+" - copy",this.fields.splice(e+1,0,i)},addOption:function(e,i){e.options.push({id:this.generateFieldID(),label:"",visual_type:"none",image:"",color:"",selected:"",price:""})},deleteOption:function(e,i){i.options.splice(e,1)},addImage:function(i){this.frame=wp.media({button:{text:"Use this Image"},multiple:!1}),this.frame.on("select",()=>{var e=this.frame.state().get("selection").first().toJSON();i.image={id:e.id,thumbnail:e.sizes.thumbnail.url,src:e.sizes.full.url}}),this.frame.open()},removeImage:function(e){e.image=!1},selected_input_type:function(e){return["select","visual_radio"].includes(e.type)?"radio":"checkbox"},deselectOtherRadio:function(e,t,i){["select","visual_radio"].includes(i.type)&&i.options.forEach((e,i)=>{i!=t&&(e.selected=0)})},open_field_on_error:function(){this.fields.forEach(function(e){e.title||(e.open=!0)})}},components:{draggable:vuedraggable},computed:{fieldsJson:function(){var i=[];return this.fields.forEach(e=>{e=Object.assign({},e);e.open=!1,i.push(e)}),JSON.stringify(i)}}});