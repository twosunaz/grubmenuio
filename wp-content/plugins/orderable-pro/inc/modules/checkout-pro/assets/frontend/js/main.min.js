!function(l,d){var r={on_ready(){l(d.body).on("click",".orderable-checkout-summary-toggle",r.hide_show_order_summary),r.mobile_view(),r.toggle_delivery_area(),l(d.body).on("wc_fragments_refreshed",function(){r.set_date_and_time(),r.mobile_view(),r.update_total()}),l(d.body).on("updated_checkout",function(){r.set_date_and_time(),r.mobile_view(),r.update_total()}),l(d.body).on("change","input.shipping_method",function(){r.toggle_delivery_area(),r.mobile_view(),r.update_total()}),orderable_checkout_pro_params&&l(".orderable-checkout__form").on("submit","form.checkout_coupon",r.on_submit_coupons_form)},update_total(){var e=l(".order-total td:last-of-type").html();l(".orderable-checkout-summary-toggle_total").html(e)},mobile_view(){var e,o,t,r,i=l(window).width(),a=l("#payment table.orderable-mobile-table");i<=991?(r=l("#order_review .orderable-checkout__shipping-table"),i=l("#order_review .orderable-tip"),e=l("#order_review .coupon-form"),r.length&&(t=l(".woocommerce-additional-fields"),(o=l("<h3></h3>").text(orderable_checkout_pro_params.i18n.shipping_title)).addClass("orderable_shipping_title"),l("#customer_details .orderable-checkout__shipping-table").remove(),l("#customer_details .orderable_shipping_title").remove(),t.length?(o.insertBefore(t),l("#order_review .orderable-checkout__shipping-table").insertBefore(t)):(l("#customer_details").prepend(l("#order_review .orderable-checkout__shipping-table")),l("#customer_details").prepend(o))),(i.length||e.length)&&(a.length&&a.remove(),(t=l("<table></table>")).addClass("orderable-mobile-table"),t.insertAfter("#payment ul.wc_payment_methods")),i.length&&(l("#payment .orderable-tip-row").remove(),l("#payment table.orderable-mobile-table").prepend(l("#order_review .orderable-tip-row"))),e.length&&(l("#payment .coupon-form").remove(),l("#payment table.orderable-mobile-table").prepend(l("#order_review .coupon-form")))):((r=l(".orderable_shipping_title")).length&&r.remove(),l("#order_review .orderable-checkout__order-review thead > tr > td").prepend(l(".orderable-checkout__shipping-table")),l("#order_review .woocommerce-checkout-review-order-table > tbody").append(l("#payment .coupon-form")),l("#order_review .woocommerce-checkout-review-order-table > tbody").append(l("#payment .orderable-tip-row")),a.length&&a.remove())},hide_show_order_summary(){return l(".orderable-checkout-summary-toggle_link--hide").is(":visible")?(l(".orderable-checkout-summary-toggle_link--show").show(),l(".orderable-checkout-summary-toggle_link--hide").hide()):(l(".orderable-checkout-summary-toggle_link--show").hide(),l(".orderable-checkout-summary-toggle_link--hide").show()),l(".checkout_right_section").slideToggle("slow"),!1},set_date_and_time(){if(!wp.hooks.applyFilters("orderable_pro_timing_disable_auto_select_date_time",!1)){var o,t=d.querySelector("#orderable-date");let e="";t&&(o=t.options[t.selectedIndex])&&!(e=o.value)&&t.options[t.selectedIndex+1]&&(t.options[t.selectedIndex+1].selected=!0,l(t).change()),"asap"!==e&&(o="",(t=d.querySelector("#orderable-time"))&&(o=t.options[t.selectedIndex])&&t.options[t.selectedIndex+1]&&(o.value||(t.options[t.selectedIndex+1].selected=!0,l(t).change())),r.toggle_delivery_area())}},toggle_delivery_area(){var e=d.querySelector("input.shipping_method:checked")||d.querySelector("input.shipping_method"),o=d.querySelector(".orderable-checkout-section--shipping h3"),t=d.querySelector(".orderable-checkout-section--shipping .woocommerce-shipping-fields"),r=d.getElementById("ship-to-different-address-checkbox"),i=d.querySelector(".shipping_address");let a=[];e&&(a=e.value),o&&("none"===o.style.display&&"none"!==t.style.display&&(t.style.display="none"),a.length<1||("shipping"!==orderable_checkout_pro_params.woocommerce_ship_to_destination&&a.includes("local_pickup:")?(o.style.display="none",o.setAttribute("aria-hidden","true"),t.style.display="none",t.setAttribute("aria-hidden","true"),i&&(i.style.display="none",i.setAttribute("aria-hidden","true")),r&&(r.checked=!1,jQuery("ship-to-different-address-checkbox").trigger("change"))):(o.style.display="block",o.setAttribute("aria-hidden","false"),t.style.display="block",t.setAttribute("aria-hidden","false"))))},on_submit_coupons_form(){let t=l(this);if(!t.is(".processing")){t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});let o={security:wc_checkout_params.apply_coupon_nonce,coupon_code:t.find('input[name="coupon_code"]').val()};l.ajax({type:"POST",url:wc_checkout_params.wc_ajax_url.toString().replace("%%endpoint%%","apply_coupon"),data:o,success(e){l(".woocommerce-error, .woocommerce-message").remove(),t.removeClass("processing").unblock(),e&&(l("form.woocommerce-checkout").before(e),l(d.body).trigger("applied_coupon_in_checkout",[o.coupon_code]),l(d.body).trigger("update_checkout",{update_shipping_method:!1}))},dataType:"html"})}return!1}};l(d).ready(r.on_ready);let e;l(window).on("resize",function(){clearTimeout(e),e=setTimeout(r.mobile_view,250)})}(jQuery,document);