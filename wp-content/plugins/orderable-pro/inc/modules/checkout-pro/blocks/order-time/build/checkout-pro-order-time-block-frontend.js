(()=>{"use strict";var e={61:(e,r,t)=>{t.d(r,{e:()=>n});const o=window.React,s=window.wp.element,a=window.wp.components,i=window.wp.data,c=window.wp.i18n,l=window.wc.blocksComponents,d=window.lodash,n=({checkoutExtensionData:e,extensions:r,validation:t})=>{const{setExtensionData:n}=e,{getValidationError:m,setValidationErrors:p,clearValidationError:u}=t,b=r?.["orderable/order-service-date"]?.serviceDates,v=r?.["orderable-pro/order-service-time"]?.serviceTimeLabel,w=(0,i.useSelect)((e=>e("wc/store/checkout").getExtensionData()?.["orderable/order-service-date"]?.timestamp)),f=(0,i.useSelect)((e=>e("wc/store/checkout").getExtensionData()?.["orderable-pro/order-service-time"]?.time)),[h,g]=(0,s.useState)(!1),E=r?.["orderable/order-service-date"]?.shouldSelectFirstAvailableDate,k=b?.[w]?.slots,S=(0,i.useSelect)((e=>e("wc/store/cart").isShippingRateBeingSelected()||e("wc/store/cart").isCustomerDataUpdating())),x=m("orderable-pro/order-service-time"),y=m("orderable-pro/order-no-service-time-selected");return(0,s.useEffect)((()=>{E&&g(!0)}),[E]),(0,s.useEffect)((()=>{if(h&&!S){const e=(0,d.filter)((0,d.keys)(k).sort())?.[1],r=k?.[e]?.label;if(!r)return;n("orderable-pro/order-service-time","time",r),g(!1)}}),[h,S,k,n]),(0,s.useEffect)((()=>{!w||"asap"===w||k?u("orderable-pro/order-service-time"):p({"orderable-pro/order-service-time":{message:(0,c.__)("Sorry, there are currently no slots available.","orderable-pro"),hidden:!1}})}),[w,k,p,u]),(0,s.useEffect)((()=>{(0,d.isEmpty)(k)||f||!w||"asap"===w?u("orderable-pro/order-no-service-time-selected"):p({"orderable-pro/order-no-service-time-selected":{message:(0,c.__)("Please select a service time","orderable"),hidden:!0}})}),[f,p,u,w,k]),(0,s.useEffect)((()=>{f&&k?.[f]&&k[f]?.time_slot_id&&n("orderable-pro/order-service-time","time-slot-id",k[f].time_slot_id)}),[f,k,n]),(0,o.createElement)("div",{className:"wp-block-orderable-checkout__service-time "+(y?"has-error":"")},x?.message&&(0,o.createElement)(l.ValidationInputError,{errorMessage:x.message}),w&&k&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(a.SelectControl,{label:v,disabled:S,value:f,options:Object.keys(k).sort().map((e=>k[e])),onChange:e=>{n("orderable-pro/order-service-time","time",e)}}),y&&!y.hidden&&(0,o.createElement)(l.ValidationInputError,{errorMessage:y.message})))}}},r={};function t(o){var s=r[o];if(void 0!==s)return s.exports;var a=r[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);const o=window.wc.blocksCheckout;var s=t(61);const a=JSON.parse('{"apiVersion":2,"name":"orderable/order-service-time-block","version":"1.0.0","title":"Orderable - Service time field","category":"woocommerce","description":"Shows a select field to allow customers to select a service time.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-shipping-methods-block","woocommerce/checkout-pickup-options-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"orderable-pro"}');(0,o.registerCheckoutBlock)({metadata:a,component:s.e})})();