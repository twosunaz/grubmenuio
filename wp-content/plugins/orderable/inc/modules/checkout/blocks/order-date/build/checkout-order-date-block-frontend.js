(()=>{"use strict";var e={362:(e,r,t)=>{t.d(r,{e:()=>n});const a=window.React,o=window.wp.element,s=window.wp.components,c=window.wp.data,i=window.wp.i18n,d=window.lodash,l=window.wc.blocksComponents,n=({checkoutExtensionData:e,extensions:r,validation:t})=>{const{setExtensionData:n}=e,{getValidationError:p,setValidationErrors:u,clearValidationError:m}=t,v=r?.["orderable/order-service-date"]?.serviceDates,b=r?.["orderable/order-service-date"]?.serviceDatesLabel,w=(0,c.useSelect)((e=>e("wc/store/checkout").getExtensionData()?.["orderable/order-service-date"]?.timestamp)),f=(0,c.useSelect)((e=>e("wc/store/cart").isShippingRateBeingSelected())),h=(0,c.useSelect)((e=>f||e("wc/store/cart").isCustomerDataUpdating()),[f]),g=(0,c.useSelect)((e=>!(0,d.isEmpty)(e("wc/store/cart").getShippingRates()?.[0]?.shipping_rates))),E=r?.["orderable/order-service-date"]?.shouldSelectFirstAvailableDate,[k,S]=(0,o.useState)(!1),x=p("orderable/order-service-date"),y=p("orderable/order-no-service-date-selected");return(0,o.useEffect)((()=>{E&&S(!0)}),[E]),(0,o.useEffect)((()=>{if(k&&!h){const e=(0,d.head)((0,d.sortBy)((0,d.filter)(v,(e=>e?.value&&"asap"!==e?.value)),["value"]))?.value;if(!e)return;n("orderable/order-service-date","timestamp",`${e}`),S(!1)}}),[k,v,h,n]),(0,o.useEffect)((()=>{v||!g?m("orderable/order-service-date"):u({"orderable/order-service-date":{message:(0,i.__)("No service dates available","orderable"),hidden:!1}})}),[v,u,m,g]),(0,o.useEffect)((()=>{w||n("orderable/order-service-date","timestamp",v?.[0]?.value)}),[v,n,w]),(0,o.useEffect)((()=>{w?m("orderable/order-no-service-date-selected"):u({"orderable/order-no-service-date-selected":{message:(0,i.__)("Please select a service date","orderable"),hidden:!0}})}),[w,u,m]),(0,a.createElement)("div",{className:"wp-block-orderable-checkout__service-date "+(y?"has-error":"")},x?.message&&(0,a.createElement)(l.ValidationInputError,{errorMessage:x.message}),v&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.SelectControl,{label:b,disabled:h,value:w,options:(0,d.map)(v),onChange:e=>{n("orderable/order-service-date","timestamp",e)}}),y&&!y.hidden&&(0,a.createElement)(l.ValidationInputError,{errorMessage:y.message})))}}},r={};function t(a){var o=r[a];if(void 0!==o)return o.exports;var s=r[a]={exports:{}};return e[a](s,s.exports,t),s.exports}t.d=(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);const a=window.wc.blocksCheckout;var o=t(362);const s=JSON.parse('{"apiVersion":2,"name":"orderable/order-service-date-block","version":"1.0.0","title":"Orderable - Service date field","category":"woocommerce","description":"Shows a select field to allow customers to select a service date.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-shipping-methods-block","woocommerce/checkout-pickup-options-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"orderable"}');(0,a.registerCheckoutBlock)({metadata:s,component:o.e})})();