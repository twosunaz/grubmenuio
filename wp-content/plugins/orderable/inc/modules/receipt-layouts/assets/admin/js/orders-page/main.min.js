((r,t)=>{let a={iconButton:"orderable-print-icon-button",printer:"orderable-print-icon-button__printer",printerIsHide:"orderable-print-icon-button__printer--is-hidden",loading:"orderable-print-icon-button__loading",loadingIsActive:"orderable-print-icon-button__loading--is-active",optionsButton:"orderable-receipt-layouts__receipt-layout-options-button",optionsButtonIsOpen:"orderable-receipt-layouts__receipt-layout-options-button--is-open",optionsList:"orderable-receipt-layouts__receipt-layout-options-list",optionsListIsOpen:"orderable-receipt-layouts__receipt-layout-options-list--is-open",optionPrintLink:"orderable-receipt-layouts__receipt-layout-option-print-link",optionPrintButton:"orderable-receipt-layouts__receipt-layout-option-print-button",optionPrintButtonIsLoading:"orderable-receipt-layouts__receipt-layout-option-print-button--is-loading",loadingOptionPrintButton:"orderable-receipt-layouts__receipt-layout-option-loading",loadingOptionPrintButtonIsActive:"orderable-receipt-layouts__receipt-layout-option-loading--is-active"};function s(t,o){o=o||orderableReceiptLayouts.receiptLayoutId;return wp.apiFetch({path:`wc/v3/orders/${t}/receipt?force_new=true&orderable_layout_id=`+o,method:"POST"}).then(t=>{t=t?.receipt_url;if(wp.url.isURL(t))return t})}function p(t){t&&window.open(t,"_blank")}function o(t){t.preventDefault();var t=r(this),o=t.attr("data-order-id");let i=t.find("."+a.loading),n=t.find("."+a.printer);if(!i.hasClass(a.loadingIsActive)){let t=t=>{t?(i.addClass(a.loadingIsActive),n.addClass(a.printerIsHide)):(i.removeClass(a.loadingIsActive),n.removeClass(a.printerIsHide))};t(!0),s(o).then(p).finally(()=>{t(!1)})}}function i(t){t.preventDefault();let o=r(this),i=r(this).siblings("."+a.loadingOptionPrintButton);var t=o.attr("data-order-id"),n=o.attr("data-receipt-layout-id");let e=t=>{t?(o.prop("disabled",!0),o.addClass(a.optionPrintButtonIsLoading),i.addClass(a.loadingOptionPrintButtonIsActive)):(o.prop("disabled",!1),o.removeClass(a.optionPrintButtonIsLoading),i.removeClass(a.loadingOptionPrintButtonIsActive))};e(!0),s(t,n).then(p).finally(()=>{e(!1),l()})}function n(){l()}function l(t){(t=t||r("."+a.optionsButton)).removeClass(a.optionsButtonIsOpen),t.siblings("."+a.optionsList).removeClass(a.optionsListIsOpen)}function e(t){t.preventDefault(),r(this).hasClass(a.optionsButtonIsOpen)?l(r(this)):((t=r(this)).addClass(a.optionsButtonIsOpen),t.siblings("."+a.optionsList).addClass(a.optionsListIsOpen))}r(t).ready(function(){r(".order-preview").each(function(){var t=r(this).attr("data-order-id");t&&r(this).after(`<a
					href="#"
					class="${a.iconButton}"
					data-order-id="${t}"
					title="${wp.i18n.__("Print","orderable")}"
				>
					<span class="${a.loading} spinner"></span>
					<span class="${a.printer} dashicons dashicons-printer"></span>
				</a>`)}),r("."+a.iconButton).on("click",o),r(t.body).on("click","."+a.optionPrintLink,n),r(t.body).on("click","."+a.optionPrintButton,i),r(t.body).on("click","."+a.optionsButton,e)})})(jQuery,document);