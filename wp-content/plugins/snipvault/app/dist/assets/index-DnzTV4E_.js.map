{"version":3,"file":"index-DnzTV4E_.js","sources":["../../src/components/utility/select/index.vue","../../src/components/utility/tabs/index.vue","../../src/components/utility/context-menu/index.vue","../../src/components/utility/wordpress-hook-select/src/wordpressActionHooks.js","../../src/components/utility/wordpress-hook-select/index.vue","../../src/components/app/snippet-editor/src/revisions.vue","../../src/components/app/snippet-editor/src/errors.vue","../../src/components/app/snippet-editor/src/getClaudeSystemPrompt.js","../../src/components/app/snippet-editor/src/assistant.vue","../../src/components/utility/post-id-select/index.vue","../../src/components/app/snippet-editor/src/conditions.vue","../../src/components/app/snippet-editor/index.vue"],"sourcesContent":["<script setup>\nimport { defineModel, useAttrs, defineProps, computed } from \"vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nconst attrs = useAttrs();\nconst props = defineProps([\"options\", \"categories\"]);\nconst model = defineModel();\n</script>\n\n<template>\n  <div class=\"relative flex flex-row items-stretch\">\n    <select\n      v-bind=\"attrs\"\n      v-model=\"model\"\n      class=\"bg-white dark:bg-transparent border border-zinc-200 dark:border-zinc-700 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-600/10 dark:focus:border-indigo-600/10 block w-full px-2 py-1 appearance-none pr-8\"\n    >\n      <template v-for=\"item in options\">\n        <option :value=\"item.value\" :disabled=\"item.disabled ? true : false\" v-html=\"item.label\"></option>\n      </template>\n\n      <template v-if=\"categories\" v-for=\"cat in categories\">\n        <optgroup :label=\"cat.group\">\n          <template v-for=\"item in cat.options\">\n            <option :value=\"item.value\" v-html=\"item.label\"></option>\n          </template>\n        </optgroup>\n      </template>\n    </select>\n    <div class=\"absolute right-0 top-0 bottom-0 px-2 py-1 z-[1] flex pointer-events-none\">\n      <AppIcon icon=\"unfold\" class=\"text-lg my-auto\" />\n    </div>\n  </div>\n</template>\n","<script setup>\nimport { defineProps, ref, computed, watchEffect } from \"vue\";\n\nconst props = defineProps({\n  options: {\n    default: () => {\n      return {\n        false: { label: \"No\", value: false },\n        true: { label: \"Yes\", value: true },\n      };\n    },\n    type: Object,\n  },\n  autoselect: { default: () => true, type: Boolean },\n  allowDeselect: { default: () => false, type: Boolean },\n});\nconst model = defineModel();\nconst tabRef = ref(null);\nconst tabContainer = ref(null);\nconst showBack = ref(true);\n\nconst bgStyle = ref({\n  width: null,\n  left: null,\n  right: null,\n  [\"z-index\"]: 1,\n  bottom: \"0px\",\n});\n\n/**\n * Returns background style of back\n */\nconst setBgStyle = () => {\n  if (tabRef.value === null) return;\n\n  let val = String(model.value); // Convert boolean values to strings\n\n  const keys = Object.keys(props.options);\n  const index = keys.findIndex((item) => item == val);\n\n  // No index so bail\n  if (index < 0) return (showBack.value = false);\n\n  const activeKey = keys[index];\n\n  const target = tabRef.value[index];\n\n  const rect = target.getBoundingClientRect();\n  const containerRect = tabContainer.value.getBoundingClientRect();\n  const left = rect.left - containerRect.left;\n\n  showBack.value = true;\n\n  bgStyle.value.width = `${rect.width}px`;\n  bgStyle.value.left = `${left}px`;\n};\n\nconst returnActiveClass = (item) => {\n  return item.value === model.value ? \"text-zinc-900 dark:text-zinc-100\" : \"text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 hover:dark:text-zinc-100 \";\n};\n\nconst setActive = (value) => {\n  if (model.value === value && props.allowDeselect) model.value = null;\n  else model.value = value;\n  setBgStyle();\n};\n\nwatchEffect(() => {\n  // If undefined select first option\n  if ((typeof model.value === \"undefined\" || model.value === null) && props.autoselect) {\n    const key = Object.keys(props.options)[0];\n    setActive(props.options[key].value);\n  } else {\n    setBgStyle();\n  }\n});\n</script>\n\n<template>\n  <div class=\"relative\">\n    <div ref=\"tabContainer\" class=\"relative flex border-b border-zinc-200 dark:border-zinc-700 max-w-full gap-3\" style=\"overflow-x: auto\">\n      <template v-for=\"(item, index) in options\">\n        <a ref=\"tabRef\" type=\"button\" class=\"py-3 px-2 text-center cursor-pointer transition-all select-none\" style=\"z-index: 2\" :class=\"returnActiveClass(item)\" @click=\"setActive(item.value)\">\n          <div class=\"whitespace-nowrap\" v-html=\"item.label\"></div>\n        </a>\n      </template>\n    </div>\n    <div class=\"absolute transition-all border-b-[2px] border-indigo-600\" :style=\"bgStyle\"></div>\n  </div>\n</template>\n","<template>\n  <div\n    v-if=\"isVisible\"\n    ref=\"contextmenu\"\n    :style=\"returnPosition()\"\n    @click.prevent.stop\n    class=\"bg-white dark:bg-zinc-900 z-[9999] shadow-sm rounded-xl border border-zinc-600/10 dark:border-zinc-800 p-3 fixed text-sm\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script setup>\nimport { ref, defineProps, nextTick, defineExpose } from \"vue\";\n\n// setup props\nconst props = defineProps({\n  teleport: {\n    type: Boolean,\n    required: false,\n    default: false,\n  },\n  offsetY: {\n    type: Number,\n    required: false,\n    default: 0,\n  },\n  offsetX: {\n    type: Number,\n    required: false,\n    default: 0,\n  },\n});\n\n// Setup refs\nconst isVisible = ref(false);\nconst contextmenu = ref(null);\nconst position = ref({\n  y: 0,\n  x: 0,\n});\n\n/**\n * Shows the context menu\n * evt (Object)\n * @since 0.0.1\n */\nconst show = async (evt, fixedPosition) => {\n  // Force a click event so other context menus will close\n  const event = new MouseEvent(\"click\", {\n    bubbles: true,\n    cancelable: true,\n    view: window,\n  });\n  document.dispatchEvent(event);\n\n  // Set pos\n  let pos = {\n    clientX: evt.clientX,\n    clientY: evt.clientY,\n  };\n\n  // Update pos if fixed position was passed\n  if (fixedPosition) {\n    pos = fixedPosition;\n  }\n\n  position.value.x = pos.clientX + props.offsetX;\n  position.value.y = pos.clientY + props.offsetY;\n  isVisible.value = true;\n\n  requestAnimationFrame(() => {\n    if (isVisible.value) {\n      setupClickOutside();\n      checkForOffScreen();\n    }\n  });\n};\n\n/**\n * Checks if context menu is offscreen\n * no args\n * @since 0.0.1\n */\nconst checkForOffScreen = () => {\n  let bounds = contextmenu.value.getBoundingClientRect();\n  let bottom = bounds.bottom;\n  let right = bounds.right;\n  let left = bounds.left;\n\n  if (bottom > window.innerHeight) {\n    position.value.y = position.value.y - (bottom - window.innerHeight) - 20;\n  }\n  if (right > window.innerWidth) {\n    position.value.x = position.value.x - (right - window.innerWidth) - 40;\n  }\n\n  if (left < 0) {\n    position.value.x = 32;\n  }\n};\n\n/**\n * Closes the context menu and removes the event listener\n * no args\n * @since 0.0.1\n */\nconst close = () => {\n  removeClickOutside();\n  isVisible.value = false;\n};\n\n/**\n * Closes the context menu and removes the event listener\n * no args\n * @since 0.0.1\n */\nconst isOpen = () => {\n  return isVisible.value;\n};\n\n/**\n * Mounts the click listener\n * no args\n * @since 0.0.1\n */\nconst setupClickOutside = () => {\n  document.addEventListener(\"click\", onClickOutside);\n  document.addEventListener(\"contextmenu\", onClickOutside);\n};\n\n/**\n * Removes the click listener\n * no args\n * @since 0.0.1\n */\nconst removeClickOutside = () => {\n  document.removeEventListener(\"click\", onClickOutside);\n  document.removeEventListener(\"contextmenu\", onClickOutside);\n};\n\n/**\n * Watches for clicks outside the context menu\n * evt (Object)\n * @since 0.0.1\n */\nconst onClickOutside = (event) => {\n  // It has already closed so remove watchers\n  if (!contextmenu.value) {\n    return close();\n  }\n  if (!contextmenu.value.contains(event.target)) {\n    return close();\n  }\n};\n\n/**\n * Returns the position for the context menu\n * no args\n * @since 0.0.1\n */\nconst returnPosition = () => {\n  let transform = \"\";\n  return `top: ${position.value.y}px; left: ${position.value.x}px;${transform}`;\n};\n\ndefineExpose({\n  show,\n  close,\n  isOpen,\n});\n</script>\n","const wordpressActionHooks = {\n  // Core loading and initialization hooks\n  core: {\n    initialization: [\n      \"muplugins_loaded\", // Fires once all must-use plugins are loaded\n      \"registered_taxonomy\", // Fires after a taxonomy is registered\n      \"registered_post_type\", // Fires after a post type is registered\n      \"plugins_loaded\", // Fires once all active plugins are loaded\n      \"sanitize_comment_cookies\", // Fires when comment cookies are being sanitized\n      \"setup_theme\", // Fires before the theme is loaded\n      \"load_textdomain\", // Fires when a text domain is loaded\n      \"after_setup_theme\", // Fires after the theme is loaded\n      \"init\", // WordPress core initialization hook\n      \"wp_loaded\", // Fires once WordPress core, plugins, and theme are fully loaded and instantiated\n      \"wp_register_sidebar_widget\", // Fires after a widget is registered\n      \"wp_default_scripts\", // Fires when the default scripts are registered\n      \"wp_default_styles\", // Fires when the default styles are registered\n      \"wp_enqueue_scripts\", // Fires when scripts and styles are enqueued for the front end\n      \"admin_enqueue_scripts\", // Fires when scripts and styles are enqueued for the admin\n      \"wp_print_styles\", // Fires when styles are printed for the front end\n      \"wp_print_scripts\", // Fires when scripts are printed for the front end\n      \"wp\", // Fires once the WordPress environment is set up\n      \"template_redirect\", // Fires before template is loaded\n      \"parse_request\", // Fires when the main query is parsed\n      \"send_headers\", // Fires when headers are sent for the HTTP request\n      \"parse_query\", // Fires when the main WordPress query is parsed\n      \"pre_get_posts\", // Fires before posts are retrieved from the database\n    ],\n    shutdown: [\n      \"shutdown\", // Fires just before PHP execution completes\n      \"wp_footer\", // Fires at the end of the page for front-end hooks\n      \"admin_footer\", // Fires at the end of the admin page\n    ],\n  },\n\n  // Admin-related hooks\n  admin: {\n    general: [\n      \"admin_init\", // Fires when admin environment is initialized\n      \"admin_menu\", // Fires when the admin menu is being registered\n      \"admin_notices\", // Fires to output admin notices\n      \"network_admin_notices\", // Fires to output network admin notices\n      \"admin_print_scripts\", // Fires when admin scripts are printed\n      \"admin_print_styles\", // Fires when admin styles are printed\n      \"admin_print_footer_scripts\", // Fires when admin footer scripts are printed\n      \"admin_bar_menu\", // Fires during admin bar menu rendering\n      \"admin_head\", // Fires in the head section of the admin\n      \"admin_footer\", // Fires in the footer section of the admin\n      \"wp_dashboard_setup\", // Fires when setting up the dashboard widgets\n      \"rightnow_end\", // Fires at the end of the Right Now widget\n    ],\n    posts: [\n      \"add_meta_boxes\", // Fires when meta boxes are added\n      \"add_meta_boxes_{post_type}\", // Fires when meta boxes are added for a specific post type\n      \"save_post\", // Fires when a post is saved\n      \"save_post_{post_type}\", // Fires when a specific post type is saved\n      \"pre_post_update\", // Fires before a post is updated in the database\n      \"edit_form_after_title\", // Fires after the title field in the edit form\n      \"edit_form_after_editor\", // Fires after the editor in the edit form\n      \"post_updated\", // Fires after a post is updated\n      \"post_updated_messages\", // Fires when the post updated messages are created\n      \"transition_post_status\", // Fires when a post's status is changed\n      \"delete_post\", // Fires before a post is deleted\n      \"trash_post\", // Fires before a post is trashed\n      \"edit_form_top\", // Fires at the top of the post edit form\n    ],\n    media: [\n      \"wp_media_upload_handler\", // Fires when handling media uploads\n      \"add_attachment\", // Fires when an attachment is added\n      \"edit_attachment\", // Fires when an attachment is edited\n      \"delete_attachment\", // Fires when an attachment is deleted\n    ],\n    comments: [\n      \"edit_comment\", // Fires when a comment is edited\n      \"delete_comment\", // Fires when a comment is deleted\n      \"trash_comment\", // Fires when a comment is trashed\n      \"edit_form_comment\", // Fires during the comment edit form\n      \"comment_post\", // Fires after a comment is saved to the database\n      \"transition_comment_status\", // Fires when the comment status changes\n    ],\n    users: [\n      \"show_user_profile\", // Fires in user profile page\n      \"edit_user_profile\", // Fires in edit user profile page\n      \"personal_options_update\", // Fires after personal options are updated\n      \"edit_user_profile_update\", // Fires after user profile is updated\n      \"user_register\", // Fires after a user is registered\n      \"profile_update\", // Fires when a user profile is updated\n      \"user_new_form\", // Fires during new user creation form\n      \"wp_login\", // Fires after a user has successfully logged in\n      \"wp_logout\", // Fires after a user is logged out\n      \"retrieve_password\", // Fires when retrieving a password\n      \"lostpassword_post\", // Fires after password recovery form is processed\n      \"password_reset\", // Fires after password is reset\n    ],\n    settings: [\n      \"admin_page_access_denied\", // Fires when access is denied to an admin page\n      \"load-{page_hook}\", // Fires when a specific admin page is loaded\n      \"network_admin_edit_option_{$option}\", // Fires after a network option is updated\n    ],\n    customization: [\n      \"customize_register\", // Fires during customizer registration\n      \"customize_controls_enqueue_scripts\", // Fires when customizer controls scripts are enqueued\n      \"customize_preview_init\", // Fires when customizer preview is initialized\n      \"customize_save\", // Fires when the customizer is saved\n    ],\n  },\n\n  // Theme-related hooks\n  theme: {\n    general: [\n      \"widgets_init\", // Fires when widgets are initialized\n      \"wp_head\", // Fires within the <head> section of the front end\n      \"wp_footer\", // Fires at the end of the page on the front end\n      \"wp_body_open\", // Fires at the beginning of the body section\n      \"dynamic_sidebar_before\", // Fires before a sidebar is rendered\n      \"dynamic_sidebar_after\", // Fires after a sidebar is rendered\n    ],\n    content: [\n      \"loop_start\", // Fires at the start of the loop\n      \"loop_end\", // Fires at the end of the loop\n      \"the_post\", // Fires after the post is retrieved for display\n      \"pre_get_posts\", // Fires before posts are retrieved from the database\n      \"posts_selection\", // Fires after the posts have been selected\n      \"wp_meta\", // Fires when displaying meta links in the footer\n    ],\n    navigation: [\n      \"wp_nav_menu_item_custom_fields\", // Fires during nav menu item custom fields\n      \"wp_nav_menu_objects\", // Fires during nav menu object modification\n      \"wp_nav_menu_args\", // Fires when nav menu arguments are processed\n    ],\n    comments: [\n      \"comment_form_before\", // Fires before the comment form\n      \"comment_form_after\", // Fires after the comment form\n      \"pre_comment_on_post\", // Fires before a comment is posted\n      \"comment_post\", // Fires after a comment is saved\n      \"wp_set_comment_status\", // Fires when a comment status is changed\n    ],\n  },\n\n  // Content-related hooks\n  content: {\n    posts: [\n      \"publish_post\", // Fires when a post is published\n      \"publish_{$post->post_type}\", // Fires when a specific post type is published\n      \"wp_insert_post\", // Fires when a post is inserted into the database\n      \"wp_trash_post\", // Fires when a post is trashed\n      \"wp_untrash_post\", // Fires when a post is restored from trash\n      \"before_delete_post\", // Fires before a post is deleted\n      \"wp_after_insert_post\", // Fires after a post is inserted into the database\n      \"post_updated\", // Fires after a post has been updated\n    ],\n    taxonomies: [\n      \"create_term\", // Fires when a term is created\n      \"edit_term\", // Fires when a term is updated\n      \"delete_term\", // Fires when a term is deleted\n      \"created_{$taxonomy}\", // Fires after a specific taxonomy term is created\n      \"edited_{$taxonomy}\", // Fires after a specific taxonomy term is updated\n      \"delete_{$taxonomy}\", // Fires when a specific taxonomy term is deleted\n      \"wp_terms_checklist_args\", // Fires when term checklist arguments are processed\n      \"parse_tax_query\", // Fires when a taxonomy query is processed\n    ],\n    comments: [\n      \"wp_insert_comment\", // Fires when a comment is inserted into the database\n      \"comment_post\", // Fires after a comment is saved to the database\n      \"wp_set_comment_status\", // Fires when a comment's status is changed\n      \"preprocess_comment\", // Fires before a comment is processed\n      \"comment_closed\", // Fires when comments are closed\n      \"comment_form_defaults\", // Fires during comment form defaults processing\n    ],\n    attachments: [\n      \"wp_handle_upload\", // Fires when a file upload is processed\n      \"wp_generate_attachment_metadata\", // Fires when attachment metadata is generated\n      \"add_attachment\", // Fires when an attachment is added\n      \"edit_attachment\", // Fires when an attachment is edited\n      \"attachment_updated\", // Fires when an attachment is updated\n      \"delete_attachment\", // Fires when an attachment is deleted\n    ],\n  },\n\n  // Query and database hooks\n  database: {\n    general: [\n      \"switch_theme\", // Fires when the theme is switched\n      \"switch_blog\", // Fires when the current blog is switched\n      \"pre_update_option_{$option}\", // Fires before a specific option is updated\n      \"update_option_{$option}\", // Fires after a specific option is updated\n      \"deleted_option\", // Fires after an option is deleted\n      \"added_option\", // Fires after an option is added\n      \"updated_option\", // Fires after an option is updated\n      \"pre_get_users\", // Fires before users are retrieved from the database\n      \"pre_user_query\", // Fires before the user query is processed\n    ],\n    posts: [\n      \"found_posts\", // Fires during the found posts calculation\n      \"posts_where\", // Fires during the WHERE clause processing of the query\n      \"posts_join\", // Fires during the JOIN clause processing of the query\n      \"posts_orderby\", // Fires during the ORDER BY clause processing of the query\n      \"posts_groupby\", // Fires during the GROUP BY clause processing of the query\n      \"posts_request\", // Fires during the final SQL request processing\n      \"post_updated_messages\", // Fires when the post updated messages are created\n    ],\n  },\n\n  // REST API\n  rest_api: {\n    general: [\n      \"rest_api_init\", // Fires when the REST API is initialized\n      \"rest_api_inserted_{$this->post_type}\", // Fires after a REST API resource is created\n      \"rest_prepare_{$this->post_type}\", // Fires before a REST API response is prepared\n      \"rest_insert_{$this->post_type}\", // Fires after a REST API resource is created or updated\n      \"rest_delete_{$this->post_type}\", // Fires after a REST API resource is deleted\n      \"rest_authentication_errors\", // Fires during REST API authentication\n    ],\n  },\n\n  // Email and notifications\n  notifications: {\n    general: [\n      \"phpmailer_init\", // Fires when PHPMailer is initialized\n      \"wp_mail\", // Fires before an email is sent\n      \"wp_mail_failed\", // Fires when an email fails to send\n      \"comment_notification_recipients\", // Fires during notification recipient processing\n      \"comment_notification_text\", // Fires during notification text processing\n      \"wp_new_user_notification_email\", // Fires during new user notification email processing\n      \"password_change_email\", // Fires during password change email processing\n    ],\n  },\n\n  // Security and authentication hooks\n  security: {\n    general: [\n      \"check_admin_referer\", // Fires during admin referer checking\n      \"check_ajax_referer\", // Fires during AJAX referer checking\n      \"auth_cookie_malformed\", // Fires when an auth cookie is malformed\n      \"auth_cookie_bad_username\", // Fires when an auth cookie has a bad username\n      \"auth_cookie_bad_hash\", // Fires when an auth cookie has a bad hash\n      \"auth_cookie_valid\", // Fires when an auth cookie is valid\n      \"wp_authenticate\", // Fires during user authentication\n      \"set_auth_cookie\", // Fires when the authentication cookie is set\n      \"clear_auth_cookie\", // Fires when the authentication cookie is cleared\n    ],\n  },\n\n  // AJAX-related hooks\n  ajax: {\n    general: [\n      \"wp_ajax_{$action}\", // Fires for logged-in users during AJAX processing\n      \"wp_ajax_nopriv_{$action}\", // Fires for non-logged-in users during AJAX processing\n    ],\n  },\n\n  // Widget-related hooks\n  widgets: {\n    general: [\n      \"widgets_init\", // Fires when widgets are initialized\n      \"in_widget_form\", // Fires during widget form rendering\n      \"widget_update_callback\", // Fires during widget updating\n      \"widget_{$this->id_base}_instance\", // Fires during specific widget instance processing\n    ],\n  },\n\n  // Shortcode-related hooks\n  shortcodes: {\n    general: [\n      \"register_shortcode_ui\", // Fires during shortcode UI registration\n    ],\n  },\n\n  // Update-related hooks\n  updates: {\n    general: [\n      \"upgrader_process_complete\", // Fires when the upgrade process is complete\n      \"update_option_{$option}\", // Fires after a specific option is updated\n      \"wp_update_plugins\", // Fires when plugins are updated\n      \"wp_update_themes\", // Fires when themes are updated\n      \"wp_version_check\", // Fires during WordPress version checking\n      \"upgrader_pre_download\", // Fires before an upgrader download\n      \"upgrader_post_install\", // Fires after an upgrader installation\n    ],\n  },\n\n  // Multisite-specific hooks\n  multisite: {\n    general: [\n      \"wpmu_new_blog\", // Fires when a new site is created\n      \"wpmu_new_user\", // Fires when a new user is created on the network\n      \"wpmu_activate_user\", // Fires when a user is activated on the network\n      \"wpmu_activate_blog\", // Fires when a site is activated on the network\n      \"add_user_to_blog\", // Fires when a user is added to a site\n      \"remove_user_from_blog\", // Fires when a user is removed from a site\n      \"ms_site_not_found\", // Fires when a site is not found on the network\n      \"wp_initialize_site\", // Fires when a site is initialized\n      \"activate_blog\", // Fires when a site is activated\n      \"activate_header\", // Fires during site activation header processing\n      \"activate_wp\", // Fires during WordPress activation\n      \"network_admin_notices\", // Fires to output network admin notices\n      \"network_site_url_form\", // Fires during the network site URL form rendering\n      \"network_options_add\", // Fires during network options addition\n    ],\n  },\n\n  // Block editor (Gutenberg) hooks\n  block_editor: {\n    general: [\n      \"enqueue_block_editor_assets\", // Fires when block editor assets are enqueued\n      \"enqueue_block_assets\", // Fires when block assets are enqueued\n      \"block_categories\", // Fires during block categories processing\n      \"registered_block_type\", // Fires when a block type is registered\n      \"unregistered_block_type\", // Fires when a block type is unregistered\n      \"block_editor_meta_box_hidden_fields\", // Fires during meta box hidden fields processing\n      \"block_editor_settings\", // Fires during block editor settings processing\n      \"filter_block_context\", // Fires during block context filtering\n    ],\n  },\n\n  // Cron-related hooks\n  cron: {\n    general: [\n      \"wp_scheduled_delete\", // Fires during scheduled deletion\n      \"wp_scheduled_auto_draft_delete\", // Fires during scheduled auto-draft deletion\n      \"wp_updating_attachment_metadata\", // Fires when attachment metadata is being updated\n      \"wp_privacy_delete_old_export_files\", // Fires during deletion of old export files\n      \"delete_expired_transients\", // Fires during deletion of expired transients\n    ],\n  },\n\n  // Plugin-specific hooks\n  plugins: {\n    general: [\n      \"activate_plugin\", // Fires when a plugin is activated\n      \"deactivate_plugin\", // Fires when a plugin is deactivated\n      \"activated_plugin\", // Fires after a plugin is activated\n      \"deactivated_plugin\", // Fires after a plugin is deactivated\n      \"pre_uninstall_plugin\", // Fires before a plugin is uninstalled\n      \"register_plugin_settings\", // Fires during plugin settings registration\n    ],\n  },\n\n  // Cache and optimization hooks\n  cache: {\n    general: [\n      \"clean_object_term_cache\", // Fires when term cache is cleaned\n      \"clean_post_cache\", // Fires when post cache is cleaned\n      \"clean_term_cache\", // Fires when term cache is cleaned\n      \"clean_user_cache\", // Fires when user cache is cleaned\n      \"clean_comment_cache\", // Fires when comment cache is cleaned\n      \"clean_page_cache\", // Fires when page cache is cleaned\n      \"clean_blog_cache\", // Fires when blog cache is cleaned\n      \"clean_network_cache\", // Fires when network cache is cleaned\n    ],\n  },\n\n  // Import and export hooks\n  import_export: {\n    general: [\n      \"export_wp\", // Fires during WordPress export\n      \"import_start\", // Fires at the start of an import\n      \"import_end\", // Fires at the end of an import\n      \"export_filters\", // Fires during export filters processing\n      \"export_wp_die_handler\", // Fires during export die handler processing\n    ],\n  },\n\n  // Privacy-related hooks\n  privacy: {\n    general: [\n      \"wp_privacy_personal_data_export_file\", // Fires during personal data export file processing\n      \"wp_privacy_personal_data_erased\", // Fires after personal data is erased\n      \"wp_privacy_personal_data_export_page\", // Fires during personal data export page processing\n      \"wp_privacy_personal_data_export_file_created\", // Fires after an export file is created\n      \"wp_privacy_personal_data_erased\", // Fires after personal data is erased\n    ],\n  },\n};\n\nexport default wordpressActionHooks;\n","<script setup>\nimport { ref, computed, useAttrs, defineModel, watchEffect } from \"vue\";\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n// Emits and props\nconst attrs = useAttrs();\n// Import comps\nimport ContextMenu from \"@/components/utility/context-menu/index.vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nimport AppInput from \"@/components/utility/text-input/index.vue\";\nimport AppSelect from \"@/components/utility/select/index.vue\";\nimport AppButton from \"@/components/utility/app-button/index.vue\";\n\n// Import the hooks data\nimport wordpressActionHooks from \"./src/wordpressActionHooks.js\";\n\n// Setup refs\nconst model = defineModel();\nconst search = ref(\"\");\nconst categoryFilter = ref(\"all\");\nconst loading = ref(false);\nconst parent = ref(null);\nconst contextmenu = ref(null);\nconst selectedHookName = ref(\"\");\nconst showingResults = ref(false);\n\n// Format category name for display\nconst formatCategoryName = (name) => {\n  return name.charAt(0).toUpperCase() + name.slice(1).replace(/_/g, \" \");\n};\n\n// Categories computed property\nconst categories = computed(() => {\n  const cats = [{ label: __(\"All Categories\", \"snipvault\"), value: \"all\" }];\n  Object.keys(wordpressActionHooks).forEach((category) => {\n    cats.push({ label: formatCategoryName(category), value: category });\n  });\n  return cats;\n});\n\n// Filtered hooks computed property - handles both category filtering and search\nconst filteredHooks = computed(() => {\n  loading.value = true;\n  const results = [];\n\n  // Determine which categories to process\n  const categoriesToProcess = categoryFilter.value === \"all\" ? Object.keys(wordpressActionHooks) : [categoryFilter.value];\n\n  // Process each category\n  categoriesToProcess.forEach((category) => {\n    if (!wordpressActionHooks[category]) return;\n\n    Object.keys(wordpressActionHooks[category]).forEach((subcategory) => {\n      wordpressActionHooks[category][subcategory].forEach((hookEntry) => {\n        // Parse hook entry\n        const parts = hookEntry.split(\"//\");\n        const hook = parts[0].trim();\n        const description = parts.length > 1 ? parts[1].trim() : \"\";\n\n        // Apply search filter if needed\n        if (!search.value || search.value.length < 2 || hook.toLowerCase().includes(search.value.toLowerCase())) {\n          results.push({\n            name: hook,\n            description: description,\n            category: category,\n            subcategory: subcategory,\n          });\n        }\n      });\n    });\n  });\n\n  // Sort results\n  results.sort((a, b) => {\n    // If searching, prioritize by relevance\n    if (search.value && search.value.length >= 2) {\n      const aName = a.name.toLowerCase();\n      const bName = b.name.toLowerCase();\n      const term = search.value.toLowerCase();\n\n      // Exact match takes priority\n      if (aName === term && bName !== term) return -1;\n      if (aName !== term && bName === term) return 1;\n\n      // Then hooks that start with the search term\n      if (aName.startsWith(term) && !bName.startsWith(term)) return -1;\n      if (!aName.startsWith(term) && bName.startsWith(term)) return 1;\n    }\n\n    // Default to alphabetical sorting\n    return a.name.localeCompare(b.name);\n  });\n\n  loading.value = false;\n  return results;\n});\n\n// Grouped hooks by subcategory for display\nconst groupedHooks = computed(() => {\n  const subcategories = [...new Set(filteredHooks.value.map((h) => h.subcategory))];\n  return subcategories.map((subcategory) => ({\n    name: subcategory,\n    displayName: formatCategoryName(subcategory),\n    hooks: filteredHooks.value.filter((h) => h.subcategory === subcategory),\n  }));\n});\n\n// Determine if we should show results\nconst shouldShowResults = computed(() => {\n  return filteredHooks.value.length > 0 || (search.value && search.value.length > 1);\n});\n\nconst showOptions = (evt) => {\n  contextmenu.value.show(evt, returnThisPos());\n  showingResults.value = true;\n};\n\nconst selectHook = (hook) => {\n  model.value = hook.name;\n  selectedHookName.value = hook.name;\n  contextmenu.value.close();\n};\n\nconst clearSelection = (event) => {\n  model.value = \"\";\n  selectedHookName.value = \"\";\n};\n\nconst returnThisPos = () => {\n  const target = parent.value;\n  const rect = target.getBoundingClientRect();\n  return { clientY: rect.bottom + 10, clientX: rect.left };\n};\n\n// Reset search when context menu closes\nconst handleContextMenuClose = () => {\n  search.value = \"\";\n  showingResults.value = false;\n};\n\n// Watch for model changes\nwatchEffect(() => {\n  if (model.value) {\n    selectedHookName.value = model.value;\n  } else {\n    selectedHookName.value = \"\";\n  }\n});\n</script>\n\n<template>\n  <div\n    v-bind=\"attrs\"\n    ref=\"parent\"\n    class=\"px-2 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm col-span-2 flex flex-row gap-1 items-center\"\n  >\n    <input v-model=\"model\" type=\"text\" :placeholder=\"__('Select a WordPress hook', 'snipvault')\" class=\"flex-grow bg-transparent outline-0 focus:outline-0\" />\n\n    <svg v-if=\"loading\" class=\"animate-spin text-indigo-500 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n      <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n    </svg>\n\n    <AppButton type=\"transparent\" v-if=\"model\" @click.stop.prevent=\"clearSelection\"><AppIcon icon=\"close\" /></AppButton>\n    <AppButton type=\"transparent\" @click=\"showOptions\">\n      <AppIcon icon=\"search\" />\n    </AppButton>\n  </div>\n\n  <ContextMenu ref=\"contextmenu\" @close=\"handleContextMenuClose\">\n    <div class=\"flex flex-col gap-3 w-[380px]\">\n      <div class=\"text-sm font-medium\">{{ __(\"Search WordPress Hooks\", \"snipvault\") }}</div>\n\n      <!-- Category filter dropdown -->\n      <div class=\"flex flex-col gap-2\">\n        <label class=\"text-xs text-gray-500\">{{ __(\"Filter by Category\", \"snipvault\") }}</label>\n        <AppSelect v-model=\"categoryFilter\" :options=\"categories\" />\n      </div>\n\n      <!-- Search functionality -->\n      <AppInput type=\"text\" v-model=\"search\" icon=\"search\" placeholder=\"Search hooks...\" autofocus />\n\n      <div v-if=\"loading\" class=\"py-4 flex justify-center\">\n        <svg class=\"animate-spin text-indigo-500 w-6 h-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      </div>\n\n      <div v-else-if=\"filteredHooks.length === 0 && search.length > 1\" class=\"py-4 text-center text-gray-500\">{{ __(\"No hooks found matching your search\", \"snipvault\") }}</div>\n\n      <div v-else-if=\"filteredHooks.length === 0 && !showingResults\" class=\"py-4 text-center text-gray-500\">\n        {{ __(\"No hooks found in this category\", \"snipvault\") }}\n      </div>\n\n      <div v-else class=\"flex flex-col max-h-80 overflow-auto\">\n        <!-- Group hooks by subcategory -->\n        <template v-for=\"group in groupedHooks\" :key=\"group.name\">\n          <div class=\"text-xs font-semibold bg-zinc-100 dark:bg-zinc-800 px-2 py-1 sticky top-0 rounded-lg\">\n            {{ group.displayName }}\n          </div>\n\n          <div\n            v-for=\"hook in group.hooks\"\n            :key=\"hook.name\"\n            class=\"flex flex-col p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors rounded-lg cursor-pointer\"\n            @click.stop.prevent=\"selectHook(hook)\"\n          >\n            <div class=\"font-mono text-sm\">{{ hook.name }}</div>\n            <div v-if=\"hook.description\" class=\"text-xs text-gray-500 mt-1\">{{ hook.description }}</div>\n            <div class=\"text-xs text-indigo-500 mt-1\">\n              {{ formatCategoryName(hook.category) }}\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n  </ContextMenu>\n</template>\n","<script setup>\nimport { ref, defineExpose, nextTick, watchEffect } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n\n// Comps\nimport AppButton from \"@/components/utility/app-button/index.vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\n\n// Consts\nimport { snippet, codeeditor } from \"./constants.js\";\n\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n\n// Functions\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\nimport { notify } from \"@/assets/js/functions/notify.js\";\n\n// Consts\nconst route = useRoute();\nconst router = useRouter();\nconst revisions = ref([]);\nconst loading = ref(false);\nconst activeRevisionId = ref(null);\n\nconst getRevisions = async () => {\n  //appStore.updateState(\"loading\", true);\n  loading.value = true;\n\n  const args = { endpoint: `wp/v2/svsnippets/${route.params.id}/revisions`, params: { status: \"any\", per_page: 100 } };\n  const response = await lmnFetch(args);\n\n  //appStore.updateState(\"loading\", false);\n  loading.value = false;\n\n  // Something went wrong\n  if (!response) return;\n\n  revisions.value = response.data;\n};\n\nconst formatDate = (isoString) => {\n  // Parse the ISO string to a Date object\n  const date = new Date(isoString);\n\n  // Get user's locale from browser\n  const userLocale = navigator.language || \"en-US\";\n\n  // Create formatters for different parts\n  const dateFormatter = new Intl.DateTimeFormat(userLocale, {\n    dateStyle: \"medium\",\n    timeStyle: \"medium\",\n  });\n\n  // Format the date according to user's locale\n  return dateFormatter.format(date);\n};\n\nconst loadRevision = async (revision) => {\n  const loadDiffEditor = () => {\n    codeeditor.value.setDiffMode(revision.meta.snippet_content);\n    activeRevisionId.value = revision.id;\n  };\n\n  if (!codeeditor.value) {\n    await router.push({ path: `/snippets/${route.params.id}`, query: {} });\n    await nextTick();\n\n    setTimeout(loadDiffEditor, 1000);\n  } else {\n    loadDiffEditor();\n  }\n};\n\nconst exitRevisions = async () => {\n  if (!codeeditor.value) {\n    await router.push({ path: `/snippets/${route.params.id}`, query: {} });\n    await nextTick();\n  }\n\n  codeeditor.value.exitDiffMode();\n  activeRevisionId.value = null;\n};\n\ngetRevisions();\n\ndefineExpose({\n  getRevisions,\n});\n</script>\n\n<template>\n  <Transition mode=\"out-in\">\n    <!-- Loading indicator -->\n    <div class=\"flex flex-col gap-2 p-4\" v-if=\"loading\">\n      <div v-for=\"index in 4\">\n        <div class=\"w-full rounded-lg bg-zinc-100 dark:bg-zinc-800 h-10 animate-pulse\"></div>\n      </div>\n    </div>\n\n    <div class=\"p-4 flex flex-col grow\" v-else-if=\"!loading\">\n      <div\n        v-for=\"(revision, index) in revisions\"\n        class=\"flex flex-row gap-4 items-center p-2 px-3 cursor-pointer rounded-lg\"\n        @click=\"loadRevision(revision)\"\n        :class=\"activeRevisionId == revision.id ? 'bg-zinc-100 dark:bg-zinc-800' : 'hover:bg-zinc-100 dark:hover:bg-zinc-800'\"\n        :key=\"index\"\n      >\n        <div class=\"rounded-full w-2 h-2\" :class=\"activeRevisionId == revision.id ? 'bg-green-600' : 'bg-zinc-200 dark:bg-zinc-700'\"></div>\n        <div class=\"text-sm grow\">{{ formatDate(revision.date_gmt) }}</div>\n\n        <AppButton type=\"transparent\" @click.stop=\"exitRevisions\" :class=\"activeRevisionId != revision.id ? 'opacity-0' : ''\"><AppIcon icon=\"close\" /></AppButton>\n      </div>\n    </div>\n  </Transition>\n</template>\n","<script setup>\nimport { defineModel, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n\n// Comps\nimport AppButton from \"@/components/utility/app-button/index.vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\n\n// Const\nconst snippet = defineModel();\nconst selected = ref([]);\n\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\nconst route = useRoute();\nconst router = useRouter();\n\n// Functions\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\nimport { notify } from \"@/assets/js/functions/notify.js\";\nimport { getErrorTypeColor, timeFormatters } from \"./constants.js\";\n\nconst deleteError = async (index) => {\n  snippet.value.meta.snippet_errors.splice(index, 1);\n\n  appStore.updateState(\"loading\", true);\n\n  const data = { ...snippet.value.id, meta: snippet.value.meta };\n\n  const args = { endpoint: `wp/v2/svsnippets/${snippet.value.id}`, data, type: \"POST\" };\n  const response = await lmnFetch(args);\n\n  appStore.updateState(\"loading\", false);\n  notify({ type: \"success\", title: __(\"Error cleared\", \"snipvault\") });\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col grow shrink p-4\">\n    <RouterLink\n      :to=\"`/snippets/${snippet.id}/errors/${index}`\"\n      class=\"flex flex-row px-3 py-2 pr-4 cursor-pointer transition-all group rounded-lg\"\n      v-for=\"(error, index) in snippet.meta?.snippet_errors || []\"\n      :class=\"\n        index == route.params.errorindex ? 'text-zinc-900 dark:text-zinc-100 bg-zinc-100 dark:bg-zinc-800' : 'hover:text-zinc-900 hover:dark:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800'\n      \"\n      :key=\"index\"\n    >\n      <div class=\"flex flex-row items-center w-full\">\n        <div class=\"flex flex-col grow gap-1 max-w-full overflow-hidden\">\n          <div class=\"flex flex-row items-center gap-3\">\n            <div class=\"flex\">\n              <div class=\"rounded border rounded-full h-2 w-2\" :class=\"getErrorTypeColor(error.type)\"></div>\n            </div>\n\n            <div class=\"flex flex-col col-span-2\">\n              <div class=\"truncate text-sm\">{{ error.message }}</div>\n              <div class=\"text-zinc-500 dark:text-zinc-400 text-xs\">{{ timeFormatters.short(error.timestamp) }}</div>\n            </div>\n          </div>\n        </div>\n\n        <AppButton @click.stop.prevent=\"deleteError(index)\" type=\"transparent\" class=\"opacity-0 group-hover:opacity-100 transition-opacity text-lg\">\n          <AppIcon icon=\"delete\"></AppIcon>\n        </AppButton>\n      </div>\n    </RouterLink>\n\n    <div class=\"text-sm text-zinc-500 dark:text-zinc-400 py-6 px-3\" v-if=\"!snippet.meta?.snippet_errors?.length\">\n      {{ __(\"No errors found for this snippet\", \"snipvault\") }}\n    </div>\n  </div>\n</template>\n","/**\n * System prompt for the SnipVault WordPress Code Assistant\n * This defines how Claude AI should respond to code snippet requests\n *\n * @param {string} currentCode - The user's current code snippet\n * @param {string} language - The programming language (php, javascript, html, css)\n * @returns {string} The formatted system prompt with code and language inserted\n */\nexport const getClaudeSystemPrompt = (currentCode, language) => {\n  return `# WordPress Code Snippet Assistant System Prompt\n\nYou are a specialized AI assistant for SnipVault, a WordPress plugin that helps developers create and manage code snippets. Your purpose is to help users write, improve, debug, and optimize code snippets specifically for WordPress development.\n\n## Your Expertise\n- WordPress core functions, hooks, APIs, and best practices\n- PHP, HTML, CSS, and JavaScript for WordPress development\n- WordPress plugin and theme development\n- WordPress security and performance optimization\n\n## Current Context\n- Programming Language: ${language}\n- Current Code:\n\\`\\`\\`${language}\n${currentCode}\n\\`\\`\\`\n\n## User Context\n- The user is working with the SnipVault plugin in WordPress\n- Users range from WordPress beginners to experienced developers\n- Focus on providing code that works within the WordPress ecosystem\n\n## Response Format Requirements\n- You MUST format your responses in XML using specific tags\n- Every response MUST include an \\`<aimessage>\\` tag with your explanation or comments\n- Every response MUST include an \\`<aicode>\\` tag containing your code snippet solution\n- DO NOT include multiple files or file structures - provide only a single code snippet\n- Your code should be complete and ready to use in WordPress\n- Keep explanations concise and focused on the code solution\n\n## Example Response Format:\n\\`\\`\\`\n<aimessage>Here's an optimized version of your function that adds proper nonce verification and sanitization.</aimessage>\n<aicode>\nfunction my_custom_wordpress_function() {\n\t// Code goes here\n}\nadd_action('init', 'my_custom_wordpress_function');\n</aicode>\n\\`\\`\\`\n\n## Guidelines for Code Quality\n- Follow WordPress coding standards and conventions\n- Use WordPress native functions when available\n- Implement proper security practices (sanitization, validation, escaping)\n- Include clear, concise comments for complex code sections\n- Optimize for performance where possible\n- Ensure code is compatible with current WordPress versions\n\n## Communication Style\n- Be helpful, knowledgeable, and respectful\n- Answer directly and practically without unnecessary theory\n- If the request is unclear, ask clarifying questions before providing code\n- Focus on actionable solutions, not just explanations\n- Acknowledge limitations of single-file snippets when relevant\n\nRemember: The user relies on you to provide correct, secure, and optimized WordPress code. Quality is more important than quantity.`;\n};\n","<script setup>\nimport { ref, onMounted, nextTick, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nimport AppButton from \"@/components/utility/app-button/index.vue\";\nimport Confirm from \"@/components/utility/confirm/index.vue\";\n\n// Funcs\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\nimport { notify } from \"@/assets/js/functions/notify.js\";\nimport { getClaudeSystemPrompt } from \"./getClaudeSystemPrompt.js\";\nimport { snippet, showAssistant } from \"./constants.js\";\n\n// Refs\nconst newMessage = ref(\"\");\nconst confirm = ref(null);\nconst messages = ref([]);\nconst isLoading = ref(false); // New ref to track loading state\nconst chatContainerRef = ref(null);\nconst route = useRoute();\nconst router = useRouter();\n\n// Format timestamp (handles both Date objects and Unix timestamps)\nconst formatTime = (timestamp) => {\n  // Check if timestamp is a number (Unix timestamp)\n  if (typeof timestamp === \"number\") {\n    // If timestamp is in seconds (Unix standard), convert to milliseconds\n    // Unix timestamps are typically in seconds, JavaScript Date expects milliseconds\n    const milliseconds = timestamp.toString().length === 10 ? timestamp * 1000 : timestamp;\n    timestamp = new Date(milliseconds);\n  }\n  // If it's already a Date object or string, it will be handled by DateTimeFormat\n  // If it's neither, DateTimeFormat will create a new Date object (current time)\n\n  return new Intl.DateTimeFormat(\"default\", {\n    hour: \"numeric\",\n    minute: \"numeric\",\n  }).format(timestamp);\n};\n\n// Scroll to bottom of chat\nconst scrollToBottom = () => {\n  if (chatContainerRef.value) {\n    chatContainerRef.value.scrollTop = chatContainerRef.value.scrollHeight;\n  }\n};\n\n// Send a message\nconst sendMessage = async () => {\n  if (newMessage.value.trim()) {\n    // Set loading state to true\n    isLoading.value = true;\n\n    // Add user message\n    messages.value.push({\n      id: messages.value.length + 1,\n      role: \"user\",\n      content: newMessage.value,\n      timestamp: Date.now(),\n    });\n\n    // Clear input\n    newMessage.value = \"\";\n\n    // Scroll to show the sent message\n    await nextTick();\n    scrollToBottom();\n\n    try {\n      const mappedMessages = messages.value.map((item) => ({ role: item.role, content: item.content }));\n      const systemPrompt = getClaudeSystemPrompt(snippet.value.meta.snippet_content, snippet.value.meta.snippet_settings.language);\n\n      const data = {\n        messages: mappedMessages,\n        system: systemPrompt,\n      };\n\n      const args = { endpoint: `snipvault/v1/claude`, params: { max_tokens: 12000 }, data, type: \"POST\" };\n      const response = await lmnFetch(args);\n\n      // Generic error\n      if (!response) {\n        throw new Error(\"No response received\");\n      }\n\n      if (response?.data?.message) {\n        await parseClaudeResponse(response.data.message);\n      }\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      notify({\n        title: __(\"Error\", \"snipvault\"),\n        message: __(\"Failed to get response from AI assistant\", \"snipvault\"),\n        type: \"error\",\n      });\n    } finally {\n      // Set loading state back to false regardless of success or failure\n      isLoading.value = false;\n    }\n  }\n};\n\n/**\n * Parse the XML response from Claude AI\n * Extracts the message and code content from the XML tags\n *\n * @param {string} xmlResponse - The XML response from Claude\n * @returns {Object} An object containing the message and code\n */\nconst parseClaudeResponse = async (messageData) => {\n  // Default return object\n  const result = {\n    message: \"\",\n    code: \"\",\n    success: false,\n  };\n\n  try {\n    // Parse <aimessage> tag content\n    const messageMatch = messageData.content.match(/<aimessage>([\\s\\S]*?)<\\/aimessage>/);\n    if (messageMatch && messageMatch[1]) {\n      result.message = messageMatch[1].trim();\n    }\n\n    // Parse <aicode> tag content\n    const codeMatch = messageData.content.match(/<aicode>([\\s\\S]*?)<\\/aicode>/);\n    if (codeMatch && codeMatch[1]) {\n      result.code = codeMatch[1].trim();\n    }\n\n    messages.value.push({\n      id: messageData.id,\n      role: messageData.role,\n      content: result.message,\n      timestamp: Date.now(),\n    });\n\n    if (result.code) snippet.value.meta.snippet_content = result.code;\n\n    await nextTick();\n    scrollToBottom();\n    saveMessages();\n  } catch (error) {\n    console.error(\"Error parsing Claude response:\", error);\n  }\n};\n\nconst saveMessages = async () => {\n  snippet.value.meta.ai_messages = messages.value;\n\n  const data = { meta: snippet.value.meta };\n\n  const args = { endpoint: `wp/v2/svsnippets/${route.params.id}`, data, type: \"POST\" };\n  const response = await lmnFetch(args);\n};\n\nconst deleteAllMessages = async () => {\n  // Confirm user intent\n  const userResponse = await confirm.value.show({\n    title: __(\"Delete chat\", \"snipvault\"),\n    message: __(\"Delete all your messages from this snippet. This can't be undone.\", \"snipvault\"),\n    okButton: __(\"Yes delete chat\", \"snipvault\"),\n  });\n\n  // Bailed by user\n  if (!userResponse) return;\n\n  snippet.value.meta.ai_messages = [];\n\n  const data = { meta: snippet.value.meta };\n\n  const args = { endpoint: `wp/v2/svsnippets/${route.params.id}`, data, type: \"POST\" };\n  const response = await lmnFetch(args);\n\n  if (response) {\n    messages.value = [];\n    notify({ title: __(\"Chat deleted\", \"snipvault\"), type: \"success\" });\n  }\n};\n\nonMounted(() => {\n  scrollToBottom();\n});\n\nwatch(\n  () => snippet.value?.id,\n  () => {\n    if (!Array.isArray(snippet.value.meta.ai_messages)) return;\n\n    messages.value = [...snippet.value.meta.ai_messages];\n  },\n  { immediate: true }\n);\n</script>\n\n<template>\n  <div class=\"border-l border-zinc-200 dark:border-zinc-700 w-[360px] shrink-0 h-full max-h-full overflow-hidden flex flex-col relative\">\n    <!-- Chat header -->\n    <div class=\"p-6 border-b border-zinc-200 dark:border-zinc-700 flex flex-row items-center place-content-between\">\n      <div class=\"text-zinc-800 dark:text-zinc-200\">{{ __(\"Assistant\", \"snipvault\") }}</div>\n      <AppButton type=\"transparent\" class=\"text-sm\" @click=\"showAssistant = false\"><AppIcon icon=\"close\" /></AppButton>\n    </div>\n\n    <!-- Chat messages -->\n    <div ref=\"chatContainerRef\" class=\"flex-grow overflow-y-auto p-6 pb-32\">\n      <div v-for=\"message in messages\" :key=\"message.id\" class=\"mb-4\">\n        <!-- Message container with different styles based on role -->\n        <div\n          :class=\"[\n            'flex flex-col max-w-[85%] rounded-lg p-3 mb-1',\n            message.role === 'user' ? 'bg-blue-100 dark:bg-blue-900 ml-auto text-blue-900 dark:text-blue-100' : 'bg-zinc-100 dark:bg-zinc-800 mr-auto text-zinc-900 dark:text-zinc-100',\n          ]\"\n        >\n          <p class=\"text-sm whitespace-pre-wrap\">{{ message.content }}</p>\n        </div>\n\n        <!-- Time stamp -->\n        <div :class=\"['text-xs text-zinc-500 dark:text-zinc-400', message.role === 'user' ? 'text-right' : 'text-left']\">\n          {{ formatTime(message.timestamp) }}\n        </div>\n      </div>\n\n      <div v-if=\"!messages.length\" class=\"text-zinc-500 dark:text-zinc-400 text-sm\">\n        {{ __(\"No chat history found. Send a message to start a new conversation, or open a previous snippet to resume its chat.\", \"snipvault\") }}\n      </div>\n\n      <!-- Thinking indicator (only visible when loading) -->\n      <div v-if=\"isLoading\" class=\"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 mt-2 mb-4 animate-pulse\">\n        <div class=\"h-2 w-2 bg-blue-500 rounded-full\"></div>\n        <div class=\"h-2 w-2 bg-blue-500 rounded-full animation-delay-200\"></div>\n        <div class=\"h-2 w-2 bg-blue-500 rounded-full animation-delay-400\"></div>\n        <span class=\"text-xs\">{{ __(\"Thinking...\", \"snipvault\") }}</span>\n      </div>\n    </div>\n\n    <!-- Chat input box with conditional glowing effect when loading -->\n    <div class=\"absolute bottom-0 left-0 right-0 p-6\">\n      <div :class=\"['transition-all duration-300 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 shadow-md p-4 rounded-lg flex flex-col', isLoading ? 'chat-box-loading' : '']\">\n        <textarea\n          v-model=\"newMessage\"\n          class=\"bg-transparent focus:outline-0 resize-none text-sm mb-2\"\n          style=\"field-sizing: content\"\n          autofocus\n          :placeholder=\"__('Ask anything...', 'snipvault')\"\n          @keydown.enter.prevent=\"sendMessage\"\n          :disabled=\"isLoading\"\n        />\n        <div class=\"flex flex-row gap-3 place-content-between\">\n          <AppButton type=\"transparent\" @click=\"deleteAllMessages\" v-if=\"messages.length\">\n            <AppIcon icon=\"delete\" />\n          </AppButton>\n          <AppButton type=\"transparent\" @click=\"sendMessage\" :disabled=\"isLoading\" class=\"ml-auto\">\n            <AppIcon :icon=\"isLoading ? 'hourglass_empty' : 'arrow_upward'\" />\n          </AppButton>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <Confirm ref=\"confirm\" />\n</template>\n\n<style scoped>\n/* Custom scrollbar for the chat container */\n.overflow-y-auto::-webkit-scrollbar {\n  width: 6px;\n}\n\n.overflow-y-auto::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.overflow-y-auto::-webkit-scrollbar-thumb {\n  background-color: rgba(161, 161, 170, 0.3);\n  border-radius: 20px;\n}\n\n.overflow-y-auto::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(161, 161, 170, 0.5);\n}\n\n/* Glowing effect for loading state */\n@keyframes gradient {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n\n.chat-box-loading {\n  position: relative;\n}\n\n.chat-box-loading::before {\n  content: \"\";\n  position: absolute;\n  top: -2px;\n  left: -2px;\n  right: -2px;\n  bottom: -2px;\n  background: linear-gradient(45deg, #12c2e9, #c471ed, #f64f59);\n  background-size: 200% 200%;\n  animation: gradient 3s ease infinite;\n  border-radius: 0.5rem;\n  z-index: -1;\n}\n\n/* Animation delay utilities */\n.animation-delay-200 {\n  animation-delay: 0.2s;\n}\n\n.animation-delay-400 {\n  animation-delay: 0.4s;\n}\n</style>\n","<script setup>\nimport { ref, onMounted, watchEffect, computed, useAttrs, defineModel, defineProps } from \"vue\";\nimport { inSearch } from \"@/assets/js/functions/inSearch.js\";\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n// Emits and props\nconst attrs = useAttrs();\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\n// Import comps\nimport ContextMenu from \"@/components/utility/context-menu/index.vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nimport AppInput from \"@/components/utility/text-input/index.vue\";\nimport AppCheckBox from \"@/components/utility/checkbox-basic/index.vue\";\nimport AppToggle from \"@/components/utility/toggle/index.vue\";\nimport AppButton from \"@/components/utility/app-button/index.vue\";\n\n// Setup refs\nconst model = defineModel();\nconst search = ref(\"\");\nconst manualId = ref(\"\");\nconst loading = ref(false);\nconst parent = ref(null);\nconst contextmenu = ref(null);\nconst posts = ref([]);\nconst searchDebounce = ref(null);\nconst selectedPostTitle = ref(\"\");\nconst selectedPostID = ref(\"\");\nconst showManualInput = ref(false);\n\n// Watch for search changes to trigger post search\nwatchEffect(() => {\n  if (search.value && search.value.length >= 2) {\n    if (searchDebounce.value) clearTimeout(searchDebounce.value);\n    searchDebounce.value = setTimeout(() => {\n      searchPosts(search.value);\n    }, 300);\n  } else {\n    posts.value = [];\n  }\n});\n\nconst showOptions = async (evt) => {\n  contextmenu.value.show(evt, returnThisPos());\n};\n\n// Search posts across all available post types\nconst searchPosts = async (searchTerm) => {\n  if (!searchTerm || searchTerm.length < 2) return;\n\n  loading.value = true;\n  posts.value = [];\n\n  // Use post types from app store\n  const postTypes = appStore.state.postTypes;\n  if (!postTypes || Object.keys(postTypes).length === 0) {\n    loading.value = false;\n    return;\n  }\n\n  // Create promises for searching each post type\n  const searchPromises = [];\n\n  for (const key in postTypes) {\n    const postType = postTypes[key];\n    // Skip post types that don't support REST or aren't public\n    if (!postType.rest_base || !postType.public) continue;\n\n    const restBase = postType.rest_base;\n    const args = {\n      endpoint: `wp/v2/${restBase}`,\n      params: {\n        search: searchTerm,\n        per_page: 5, // Limit to 5 results per post type to keep response size manageable\n      },\n      hideErrors: true,\n    };\n\n    searchPromises.push(\n      lmnFetch(args)\n        .then((response) => {\n          if (response && response.data) {\n            // Add post type information to each result\n            return response.data.map((post) => ({\n              ...post,\n              post_type_label: postType.name,\n              post_type: key,\n            }));\n          }\n          return [];\n        })\n        .catch(() => [])\n    );\n  }\n\n  // Wait for all searches to complete\n  const results = await Promise.all(searchPromises);\n\n  // Combine and flatten results\n  posts.value = results.flat().sort((a, b) => {\n    // Sort by relevance (title match) and then by date\n    const titleA = a.title?.rendered || a.name || \"\";\n    const titleB = b.title?.rendered || b.name || \"\";\n\n    // If titles start with the search term, prioritize those\n    const startsWithA = titleA.toLowerCase().startsWith(searchTerm.toLowerCase());\n    const startsWithB = titleB.toLowerCase().startsWith(searchTerm.toLowerCase());\n\n    if (startsWithA && !startsWithB) return -1;\n    if (!startsWithA && startsWithB) return 1;\n\n    // Otherwise sort by modified date if available\n    if (a.modified && b.modified) {\n      return new Date(b.modified) - new Date(a.modified);\n    }\n\n    return 0;\n  });\n\n  loading.value = false;\n};\n\nconst selectPost = (post) => {\n  model.value = post.id;\n  selectedPostTitle.value = post.title?.rendered || post.name || `${post.post_type_label} #${post.id}`;\n  selectedPostID.value = post.id;\n  contextmenu.value.close();\n};\n\nconst clearSelection = (event) => {\n  event.stopPropagation();\n  event.preventDefault();\n  model.value = null;\n  selectedPostTitle.value = \"\";\n  selectedPostID.value = \"\";\n};\n\n// Get post title by ID\nconst getPostById = async (postId) => {\n  if (!postId) return;\n\n  loading.value = true;\n  const postTypes = appStore.state.postTypes;\n\n  for (const key in postTypes) {\n    const postType = postTypes[key];\n    // Skip post types that don't support REST\n    if (!postType.rest_base) continue;\n\n    const restBase = postType.rest_base;\n    const args = { endpoint: `wp/v2/${restBase}/${postId}`, hideErrors: true };\n\n    try {\n      const response = await lmnFetch(args);\n      if (response && response.data) {\n        selectedPostTitle.value = response.data.title?.rendered || response.data.name || `${postType.name} #${postId}`;\n        selectedPostID.value = postId;\n        loading.value = false;\n        return;\n      }\n    } catch (error) {\n      // Continue to next post type if not found\n    }\n  }\n\n  // If we couldn't find the post in any post type\n  selectedPostTitle.value = `Post #${postId}`;\n  selectedPostID.value = postId;\n  loading.value = false;\n};\n\n// Handle manual ID submission\nconst submitManualId = () => {\n  if (!manualId.value || isNaN(parseInt(manualId.value))) {\n    return;\n  }\n\n  const postId = parseInt(manualId.value);\n  model.value = postId;\n  getPostById(postId);\n  contextmenu.value.close();\n  manualId.value = \"\";\n  showManualInput.value = false;\n};\n\n// Toggle between search and manual input\nconst toggleManualInput = () => {\n  showManualInput.value = !showManualInput.value;\n\n  // Reset the search or manual ID when toggling\n  if (showManualInput.value) {\n    search.value = \"\";\n    posts.value = [];\n  } else {\n    manualId.value = \"\";\n  }\n};\n\n/**\n * Returns position of current target\n *\n * @since 0.0.1\n */\nconst returnThisPos = (evt) => {\n  const target = parent.value;\n  const rect = target.getBoundingClientRect();\n  return { clientY: rect.bottom + 10, clientX: rect.left };\n};\n\n// Reset search when context menu closes\nconst handleContextMenuClose = () => {\n  search.value = \"\";\n  posts.value = [];\n  manualId.value = \"\";\n  showManualInput.value = false;\n};\n\n// Load post title when model changes\nwatchEffect(async () => {\n  if (model.value && !selectedPostTitle.value) {\n    await getPostById(model.value);\n  } else if (!model.value) {\n    selectedPostTitle.value = \"\";\n    selectedPostID.value = \"\";\n  }\n});\n</script>\n\n<template>\n  <div\n    @click=\"showOptions\"\n    v-bind=\"attrs\"\n    ref=\"parent\"\n    class=\"px-2 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm col-span-2 flex flex-row gap-1 items-center\"\n  >\n    <div v-if=\"model && selectedPostTitle\" class=\"flex-grow truncate\">{{ selectedPostTitle }} ({{ selectedPostID }})</div>\n    <input v-else type=\"text\" disabled :placeholder=\"__('Select a post or page', 'snipvault')\" class=\"flex-grow bg-transparent\" />\n\n    <svg v-if=\"loading\" class=\"animate-spin text-indigo-500 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n      <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n    </svg>\n\n    <AppButton type=\"transparent\" v-if=\"model\" @click.stop.prevent=\"clearSelection\"><AppIcon icon=\"close\" /></AppButton>\n    <AppIcon icon=\"unfold\" />\n  </div>\n\n  <ContextMenu ref=\"contextmenu\" @close=\"handleContextMenuClose\">\n    <div class=\"flex flex-col gap-3 w-[320px]\">\n      <!-- Toggle between search and manual input -->\n      <div class=\"flex justify-between items-center\">\n        <div class=\"text-sm font-medium\">\n          {{ showManualInput ? \"Enter Post ID Manually\" : \"Search Posts\" }}\n        </div>\n        <AppButton type=\"transparent\" @click=\"toggleManualInput\" class=\"text-xs\">\n          {{ showManualInput ? \"Switch to Search\" : \"Enter ID Manually\" }}\n        </AppButton>\n      </div>\n\n      <!-- Manual ID input -->\n      <div v-if=\"showManualInput\" class=\"flex gap-2\">\n        <AppInput type=\"number\" v-model=\"manualId\" placeholder=\"Enter post ID...\" class=\"flex-grow\" autofocus @keyup.enter=\"submitManualId\" />\n        <AppButton type=\"primary\" @click=\"submitManualId\" :disabled=\"!manualId || isNaN(parseInt(manualId))\"> Set </AppButton>\n      </div>\n\n      <!-- Search functionality -->\n      <template v-else>\n        <AppInput type=\"text\" v-model=\"search\" icon=\"search\" placeholder=\"Search posts across all types...\" autofocus />\n\n        <div v-if=\"loading\" class=\"py-4 flex justify-center\">\n          <svg class=\"animate-spin text-indigo-500 w-6 h-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n          </svg>\n        </div>\n\n        <div v-else-if=\"posts.length === 0 && search.length > 1\" class=\"py-4 text-center text-gray-500\">No posts found matching your search</div>\n\n        <div v-else-if=\"search.length < 2\" class=\"py-4 text-center text-gray-500\">Type at least 2 characters to search</div>\n\n        <div v-else class=\"flex flex-col max-h-80 overflow-auto\">\n          <div\n            v-for=\"post in posts\"\n            :key=\"`${post.post_type}-${post.id}`\"\n            class=\"flex flex-row items-center gap-2 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors rounded-lg cursor-pointer\"\n            @click.stop.prevent=\"selectPost(post)\"\n          >\n            <div class=\"truncate flex-grow\">\n              {{ post.title?.rendered || post.name || `Post #${post.id}` }}\n            </div>\n            <div class=\"text-xs text-gray-500 whitespace-nowrap ml-2\">\n              {{ post.post_type_label }}\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </ContextMenu>\n</template>\n","<script setup>\nimport { ref, watch, computed } from \"vue\";\n\nimport AppButton from \"@/components/utility/app-button/index.vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nimport AppSelect from \"@/components/utility/select/index.vue\";\nimport AppInput from \"@/components/utility/text-input/index.vue\";\nimport AppToggle from \"@/components/utility/toggle/index.vue\";\nimport PostIDSelect from \"@/components/utility/post-id-select/index.vue\";\nimport { isObject } from \"@/assets/js/functions/isObject.js\";\nimport { snippet } from \"./constants.js\";\n\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n\n// Consts for operators\nconst operatorOptions = [\n  { label: __(\"All conditions match (And)\", \"snipvault\"), value: \"AND\" },\n  { label: __(\"Any conditions match (Or)\", \"snipvault\"), value: \"OR\" },\n];\n\n// Enhanced comparison operators\nconst comparisonOptions = [\n  { label: __(\"Equals\", \"snipvault\"), value: \"equals\" },\n  { label: __(\"Does not equal\", \"snipvault\"), value: \"does_not_equal\" },\n  { label: __(\"Contains\", \"snipvault\"), value: \"contains\" },\n  { label: __(\"Does not contain\", \"snipvault\"), value: \"does_not_contain\" },\n  { label: __(\"Starts with\", \"snipvault\"), value: \"starts_with\" },\n  { label: __(\"Ends with\", \"snipvault\"), value: \"ends_with\" },\n  { label: __(\"Greater than\", \"snipvault\"), value: \"greater_than\" },\n  { label: __(\"Less than\", \"snipvault\"), value: \"less_than\" },\n  { label: __(\"Is empty\", \"snipvault\"), value: \"is_empty\" },\n  { label: __(\"Is not empty\", \"snipvault\"), value: \"is_not_empty\" },\n  { label: __(\"Matches regex\", \"snipvault\"), value: \"matches_regex\" },\n];\n\n// Comprehensive field options categorized by context\nconst fieldOptions = [\n  // WordPress Core Fields\n  {\n    group: __(\"WordPress Core\", \"snipvault\"),\n    options: [\n      { label: __(\"Post Type\", \"snipvault\"), value: \"post_type\", type: \"select\", options: \"post_types\" },\n      { label: __(\"Post / Page ID\", \"snipvault\"), value: \"post_id\", type: \"post_id_select\" },\n      { label: __(\"Post Status\", \"snipvault\"), value: \"post_status\", type: \"select\", options: \"post_statuses\" },\n      { label: __(\"Post Format\", \"snipvault\"), value: \"post_format\", type: \"select\", options: \"post_formats\" },\n      { label: __(\"Page Template\", \"snipvault\"), value: \"page_template\", type: \"select\", options: \"page_templates\" },\n      { label: __(\"Post Taxonomy\", \"snipvault\"), value: \"taxonomy\", type: \"taxonomy\", requires: \"term\" },\n      { label: __(\"Post Term\", \"snipvault\"), value: \"term\", type: \"term\", requires: \"taxonomy\" },\n      { label: __(\"Is Front Page\", \"snipvault\"), value: \"is_front_page\", type: \"boolean\" },\n      { label: __(\"Is Home\", \"snipvault\"), value: \"is_home\", type: \"boolean\" },\n      { label: __(\"Is Single\", \"snipvault\"), value: \"is_single\", type: \"boolean\" },\n      { label: __(\"Is Archive\", \"snipvault\"), value: \"is_archive\", type: \"boolean\" },\n      { label: __(\"Is Search\", \"snipvault\"), value: \"is_search\", type: \"boolean\" },\n      { label: __(\"Is 404\", \"snipvault\"), value: \"is_404\", type: \"boolean\" },\n    ],\n  },\n  // User Related Fields\n  {\n    group: __(\"User\", \"snipvault\"),\n    options: [\n      { label: __(\"User Role\", \"snipvault\"), value: \"user_role\", type: \"select\", options: \"user_roles\" },\n      { label: __(\"User ID\", \"snipvault\"), value: \"user_id\", type: \"number\" },\n      { label: __(\"User Capability\", \"snipvault\"), value: \"user_capability\", type: \"text\" },\n      { label: __(\"User Meta\", \"snipvault\"), value: \"user_meta\", type: \"text\", requires: \"meta_key\" },\n      { label: __(\"Is User Logged In\", \"snipvault\"), value: \"is_user_logged_in\", type: \"boolean\" },\n    ],\n  },\n  // URL & Request Fields\n  {\n    group: __(\"URL & Request\", \"snipvault\"),\n    options: [\n      { label: __(\"URL Path\", \"snipvault\"), value: \"url_path\", type: \"text\" },\n      { label: __(\"URL Parameter\", \"snipvault\"), value: \"url_parameter\", type: \"text\", requires: \"parameter_name\" },\n      { label: __(\"Request Method\", \"snipvault\"), value: \"request_method\", type: \"select\", options: [\"GET\", \"POST\", \"PUT\", \"DELETE\"] },\n      { label: __(\"Referrer\", \"snipvault\"), value: \"referrer\", type: \"text\" },\n      { label: __(\"Browser\", \"snipvault\"), value: \"browser\", type: \"select\", options: \"browsers\" },\n      { label: __(\"Device Type\", \"snipvault\"), value: \"device_type\", type: \"select\", options: [\"desktop\", \"tablet\", \"mobile\"] },\n    ],\n  },\n  // Time & Date Fields\n  {\n    group: __(\"Time & Date\", \"snipvault\"),\n    options: [\n      { label: __(\"Day of Week\", \"snipvault\"), value: \"day_of_week\", type: \"select\", options: \"days_of_week\" },\n      { label: __(\"Month\", \"snipvault\"), value: \"month\", type: \"select\", options: \"months\" },\n      { label: __(\"Time of Day\", \"snipvault\"), value: \"time_of_day\", type: \"time\" },\n      { label: __(\"Date Range\", \"snipvault\"), value: \"date_range\", type: \"date_range\" },\n    ],\n  },\n  // Plugin & Theme Fields\n  {\n    group: __(\"Plugins & Themes\", \"snipvault\"),\n    options: [\n      { label: __(\"Active Theme\", \"snipvault\"), value: \"active_theme\", type: \"select\", options: \"themes\" },\n      { label: __(\"Plugin Active\", \"snipvault\"), value: \"plugin_active\", type: \"select\", options: \"plugins\" },\n    ],\n  },\n  // Custom Fields\n  {\n    group: __(\"Custom\", \"snipvault\"),\n    options: [\n      { label: __(\"Post Meta\", \"snipvault\"), value: \"post_meta\", type: \"text\", requires: \"meta_key\" },\n      { label: __(\"Custom Function\", \"snipvault\"), value: \"custom_function\", type: \"text\", hint: __(\"Enter function name that returns boolean\", \"snipvault\") },\n      { label: __(\"PHP Expression\", \"snipvault\"), value: \"php_expression\", type: \"code\", language: \"php\", hint: __(\"Enter PHP expression that evaluates to boolean\", \"snipvault\") },\n    ],\n  },\n];\n\n// Flattened options for easy lookup\nconst flatFieldOptions = computed(() => {\n  return fieldOptions.reduce((acc, group) => {\n    return [...acc, ...group.options];\n  }, []);\n});\n\n// Dynamic data stores for select options\nconst dynamicOptionsData = ref({\n  post_types: Object.entries(appStore.state.postTypes).map((type) => ({ value: type[0], label: type[1].label })),\n  post_statuses: [\n    { label: \"Published\", value: \"publish\" },\n    { label: \"Draft\", value: \"draft\" },\n    { label: \"Pending\", value: \"pending\" },\n    { label: \"Private\", value: \"private\" },\n    { label: \"Trash\", value: \"trash\" },\n  ],\n  post_formats: [\n    { label: \"Standard\", value: \"standard\" },\n    { label: \"Aside\", value: \"aside\" },\n    { label: \"Gallery\", value: \"gallery\" },\n    { label: \"Image\", value: \"image\" },\n    { label: \"Video\", value: \"video\" },\n    { label: \"Audio\", value: \"audio\" },\n    { label: \"Quote\", value: \"quote\" },\n    { label: \"Link\", value: \"link\" },\n    { label: \"Status\", value: \"status\" },\n  ],\n  page_templates: [\n    { label: \"Default\", value: \"default\" },\n    // These would be dynamically loaded from the server\n  ],\n  user_roles: appStore.state.formattedRoles,\n  browsers: [\n    { label: \"Chrome\", value: \"chrome\" },\n    { label: \"Firefox\", value: \"firefox\" },\n    { label: \"Safari\", value: \"safari\" },\n    { label: \"Edge\", value: \"edge\" },\n    { label: \"Opera\", value: \"opera\" },\n    { label: \"IE\", value: \"ie\" },\n  ],\n  days_of_week: [\n    { label: \"Monday\", value: \"1\" },\n    { label: \"Tuesday\", value: \"2\" },\n    { label: \"Wednesday\", value: \"3\" },\n    { label: \"Thursday\", value: \"4\" },\n    { label: \"Friday\", value: \"5\" },\n    { label: \"Saturday\", value: \"6\" },\n    { label: \"Sunday\", value: \"0\" },\n  ],\n  months: [\n    { label: \"January\", value: \"1\" },\n    { label: \"February\", value: \"2\" },\n    { label: \"March\", value: \"3\" },\n    { label: \"April\", value: \"4\" },\n    { label: \"May\", value: \"5\" },\n    { label: \"June\", value: \"6\" },\n    { label: \"July\", value: \"7\" },\n    { label: \"August\", value: \"8\" },\n    { label: \"September\", value: \"9\" },\n    { label: \"October\", value: \"10\" },\n    { label: \"November\", value: \"11\" },\n    { label: \"December\", value: \"12\" },\n  ],\n});\n\n// Group visibility tracking\nconst openGroups = ref([]);\n\nconst toggleOpenGroup = (index) => {\n  if (openGroups.value.includes(index)) {\n    const foundIndex = openGroups.value.findIndex((item) => item === index);\n    openGroups.value.splice(foundIndex, 1);\n  } else {\n    openGroups.value.push(index);\n  }\n};\n\n// Get field data by field value\nconst getFieldData = (fieldValue) => {\n  return flatFieldOptions.value.find((item) => item.value === fieldValue);\n};\n\n// Get field label by field value\nconst getFieldLabel = (fieldValue) => {\n  const field = getFieldData(fieldValue);\n  return field ? field.label : fieldValue;\n};\n\n// Get field type by field value\nconst getFieldType = (fieldValue) => {\n  const field = getFieldData(fieldValue);\n  return field ? field.type : \"text\";\n};\n\n// Get options for a select field\nconst getFieldOptions = (fieldValue) => {\n  const field = getFieldData(fieldValue);\n  if (!field) return [];\n\n  if (typeof field.options === \"string\" && dynamicOptionsData.value[field.options]) {\n    return dynamicOptionsData.value[field.options];\n  } else if (Array.isArray(field.options)) {\n    return field.options.map((opt) => (typeof opt === \"string\" ? { label: opt, value: opt } : opt));\n  }\n\n  return [];\n};\n\n// Check if a field requires additional configuration\nconst fieldRequiresConfig = (fieldValue) => {\n  const field = getFieldData(fieldValue);\n  return field && field.requires ? true : false;\n};\n\n// Get the required config field for a given field\nconst getRequiredConfigField = (fieldValue) => {\n  const field = getFieldData(fieldValue);\n  return field && field.requires ? field.requires : null;\n};\n\n// Group management\nconst newGroup = () => {\n  snippet.value.meta.snippet_settings.conditions.groups.push({\n    operator: \"AND\",\n    name: \"\",\n    conditions: [],\n  });\n  toggleOpenGroup(snippet.value.meta.snippet_settings.conditions.groups.length - 1);\n};\n\nconst removeGroup = (index) => {\n  // Remove from openGroups if present\n  const openIndex = openGroups.value.findIndex((i) => i === index);\n  if (openIndex !== -1) {\n    openGroups.value.splice(openIndex, 1);\n  }\n\n  // Update other openGroups indices\n  openGroups.value = openGroups.value.map((i) => {\n    if (i > index) return i - 1;\n    return i;\n  });\n\n  // Remove the group\n  snippet.value.meta.snippet_settings.conditions.groups.splice(index, 1);\n};\n\nconst duplicateGroup = (index) => {\n  const group = snippet.value.meta.snippet_settings.conditions.groups[index];\n  const newGroupCopy = JSON.parse(JSON.stringify(group));\n  newGroupCopy.name = newGroupCopy.name ? `${newGroupCopy.name} (${__(\"Copy\", \"snipvault\")})` : \"\";\n  snippet.value.meta.snippet_settings.conditions.groups.push(newGroupCopy);\n  toggleOpenGroup(snippet.value.meta.snippet_settings.conditions.groups.length - 1);\n};\n\n// Condition management\nconst newCondition = (group) => {\n  group.conditions.push({\n    field: \"user_role\",\n    comparison: \"contains\",\n    value: \"administrator\",\n  });\n};\n\nconst removeCondition = (group, index) => {\n  group.conditions.splice(index, 1);\n};\n\n// Initialization\nwatch(\n  () => snippet.value.meta.snippet_settings.conditions,\n  () => {\n    if (!isObject(snippet.value.meta.snippet_settings.conditions)) {\n      snippet.value.meta.snippet_settings.conditions = {\n        operator: \"AND\",\n        groups: [],\n      };\n    }\n  },\n  { immediate: true, deep: true }\n);\n</script>\n\n<template>\n  <div>\n    <div class=\"flex flex-col gap-4 p-6 grow overflow-auto shrink bg-white dark:bg-zinc-900\">\n      <div class=\"flex flex-col gap-4\" v-if=\"snippet.meta.snippet_settings.conditions\">\n        <!-- Top-level operator -->\n        <div class=\"flex flex-col\">\n          <label class=\"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2\">{{ __(\"Match Groups When\", \"snipvault\") }}</label>\n          <AppSelect v-model=\"snippet.meta.snippet_settings.conditions.operator\" :options=\"operatorOptions\" class=\"max-w-md\" />\n        </div>\n\n        <!-- No groups message -->\n        <div\n          v-if=\"!snippet.meta.snippet_settings.conditions.groups || snippet.meta.snippet_settings.conditions.groups.length === 0\"\n          class=\"text-center p-6 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-dashed border-zinc-200 dark:border-zinc-700\"\n        >\n          <p class=\"text-zinc-500 dark:text-zinc-400\">\n            {{ __(\"No condition groups defined yet. Add your first group to started.\", \"snipvault\") }}\n          </p>\n          <AppButton type=\"primary\" class=\"text-sm mt-4\" @click=\"newGroup\">\n            <AppIcon icon=\"add\" class=\"mr-1\" />\n            {{ __(\"Add First Group\", \"snipvault\") }}\n          </AppButton>\n        </div>\n\n        <!-- Groups -->\n        <div v-else class=\"flex flex-col gap-4\">\n          <div v-for=\"(group, index) in snippet.meta.snippet_settings.conditions.groups\" :key=\"`group-${index}`\" class=\"rounded-lg border border-zinc-200 dark:border-zinc-700 w-full overflow-hidden\">\n            <!-- Group header -->\n            <div class=\"flex flex-row items-center px-3 py-2 pr-1 border-zinc-200 dark:border-zinc-700 bg-zinc-100 dark:bg-zinc-800\" :class=\"openGroups.includes(index) ? 'border-b' : ''\">\n              <div class=\"grow text-sm font-medium text-zinc-900 dark:text-zinc-100\">\n                <span v-if=\"group.name\">{{ group.name }}</span>\n                <span v-else>{{ __(\"Group\", \"snipvault\") }} {{ index + 1 }}</span>\n              </div>\n\n              <div class=\"flex flex-row items-center\">\n                <AppButton type=\"transparent\" :title=\"__('Delete group', 'snipvault')\" @click=\"removeGroup(index)\">\n                  <AppIcon icon=\"delete\" />\n                </AppButton>\n                <AppButton type=\"transparent\" @click=\"duplicateGroup(index)\" :title=\"__('Duplicate group', 'snipvault')\">\n                  <AppIcon icon=\"duplicate\" />\n                </AppButton>\n                <div class=\"h-3 border-l border-zinc-400 dark:border-zinc-500 mx-1\"></div>\n                <AppButton type=\"transparent\" @click=\"toggleOpenGroup(index)\" :title=\"openGroups.includes(index) ? __('Minimize group', 'snipvault') : __('Expand group', 'snipvault')\">\n                  <AppIcon :icon=\"openGroups.includes(index) ? 'remove' : 'add'\" />\n                </AppButton>\n              </div>\n            </div>\n\n            <Transition\n              enter-active-class=\"transition duration-200 ease-out\"\n              enter-from-class=\"transform -translate-y-4 opacity-0\"\n              enter-to-class=\"transform translate-y-0 opacity-100\"\n              leave-active-class=\"transition duration-150 ease-in\"\n              leave-from-class=\"transform translate-y-0 opacity-100\"\n              leave-to-class=\"transform -translate-y-4 opacity-0\"\n            >\n              <!-- Conditions -->\n              <div v-if=\"openGroups.includes(index)\">\n                <div class=\"flex flex-col gap-4 p-4\">\n                  <!-- Group settings -->\n                  <div class=\"flex flex-col gap-4\">\n                    <div>\n                      <label class=\"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1 block\">\n                        {{ __(\"Group Name\", \"snipvault\") }}\n                      </label>\n                      <AppInput type=\"text\" v-model=\"group.name\" class=\"text-sm\" :placeholder=\"__('Optional group name', 'snipvault')\" />\n                    </div>\n                    <div>\n                      <label class=\"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1 block\">\n                        {{ __(\"Match Conditions When\", \"snipvault\") }}\n                      </label>\n                      <AppSelect v-model=\"group.operator\" :options=\"operatorOptions\" class=\"text-sm\" />\n                    </div>\n                  </div>\n\n                  <!-- Divider -->\n                  <div class=\"border-t border-zinc-200 dark:border-zinc-700 my-2\"></div>\n\n                  <!-- Conditions header -->\n                  <div class=\"flex justify-between items-center\">\n                    <h4 class=\"text-sm font-medium text-zinc-700 dark:text-zinc-300\">\n                      {{ __(\"Conditions\", \"snipvault\") }}\n                    </h4>\n                    <span class=\"text-xs text-zinc-500 dark:text-zinc-400\">\n                      {{ group.conditions.length }} {{ group.conditions.length === 1 ? __(\"condition\", \"snipvault\") : __(\"conditions\", \"snipvault\") }}\n                    </span>\n                  </div>\n\n                  <!-- No conditions message -->\n                  <div\n                    v-if=\"!group.conditions || group.conditions.length === 0\"\n                    class=\"text-center p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-dashed border-zinc-200 dark:border-zinc-700\"\n                  >\n                    <p class=\"text-zinc-500 dark:text-zinc-400 text-sm\">\n                      {{ __(\"No conditions in this group yet.\", \"snipvault\") }}\n                    </p>\n                  </div>\n\n                  <!-- Condition items -->\n                  <div v-else class=\"space-y-3\">\n                    <div\n                      v-for=\"(condition, conditionIndex) in group.conditions\"\n                      :key=\"`condition-${index}-${conditionIndex}`\"\n                      class=\"flex flex-col gap-3 p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700\"\n                    >\n                      <!-- Condition header -->\n                      <div class=\"flex flex-row items-center justify-between text-sm\">\n                        <div class=\"font-medium text-zinc-700 dark:text-zinc-300\">\n                          {{ getFieldLabel(condition.field) }}\n                        </div>\n                        <AppButton type=\"transparent\" :title=\"__('Delete condition', 'snipvault')\" @click=\"removeCondition(group, conditionIndex)\">\n                          <AppIcon icon=\"delete\" />\n                        </AppButton>\n                      </div>\n\n                      <!-- Condition content -->\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        <!-- Field selection -->\n                        <div>\n                          <label class=\"text-xs text-zinc-500 dark:text-zinc-400 mb-1 block\">\n                            {{ __(\"Field\", \"snipvault\") }}\n                          </label>\n                          <AppSelect v-model=\"condition.field\" :categories=\"fieldOptions\" class=\"text-sm\" grouped />\n                        </div>\n\n                        <!-- Comparison selection -->\n                        <div>\n                          <label class=\"text-xs text-zinc-500 dark:text-zinc-400 mb-1 block\">\n                            {{ __(\"Comparison\", \"snipvault\") }}\n                          </label>\n                          <AppSelect v-model=\"condition.comparison\" :options=\"comparisonOptions\" class=\"text-sm\" />\n                        </div>\n                      </div>\n\n                      <!-- Value input - different types based on field type -->\n                      <div v-if=\"!['is_empty', 'is_not_empty'].includes(condition.comparison)\">\n                        <label class=\"text-xs text-zinc-500 dark:text-zinc-400 mb-1 block\">\n                          {{ __(\"Value\", \"snipvault\") }}\n                        </label>\n\n                        <!-- Boolean toggle -->\n                        <AppToggle v-if=\"getFieldType(condition.field) === 'boolean'\" v-model=\"condition.value\" class=\"my-1 bg-white dark:bg-zinc-900\" />\n\n                        <!-- Select dropdown -->\n                        <AppSelect v-else-if=\"getFieldType(condition.field) === 'select'\" v-model=\"condition.value\" :options=\"getFieldOptions(condition.field)\" class=\"text-sm\" />\n\n                        <!-- Number input -->\n                        <AppInput\n                          v-else-if=\"getFieldType(condition.field) === 'number'\"\n                          type=\"number\"\n                          v-model=\"condition.value\"\n                          class=\"text-sm\"\n                          :placeholder=\"__('Value', 'snipvault')\"\n                          style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\"\n                        />\n\n                        <!-- Post ID select -->\n                        <PostIDSelect\n                          v-else-if=\"getFieldType(condition.field) === 'post_id_select'\"\n                          type=\"number\"\n                          v-model=\"condition.value\"\n                          class=\"text-sm\"\n                          :placeholder=\"__('Value', 'snipvault')\"\n                          style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\"\n                        />\n\n                        <!-- Time input -->\n                        <AppInput v-else-if=\"getFieldType(condition.field) === 'time'\" type=\"time\" v-model=\"condition.value\" class=\"text-sm\" style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\" />\n\n                        <!-- Date range input -->\n                        <div v-else-if=\"getFieldType(condition.field) === 'date_range'\" class=\"flex gap-2\">\n                          <AppInput type=\"date\" v-model=\"condition.value_from\" class=\"text-sm\" :placeholder=\"__('From', 'snipvault')\" style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\" />\n                          <AppInput type=\"date\" v-model=\"condition.value_to\" class=\"text-sm\" :placeholder=\"__('To', 'snipvault')\" style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\" />\n                        </div>\n\n                        <!-- Code input for PHP expressions -->\n                        <AppInput\n                          v-else-if=\"getFieldType(condition.field) === 'code'\"\n                          type=\"text\"\n                          v-model=\"condition.value\"\n                          class=\"text-sm font-mono\"\n                          :placeholder=\"__('PHP Code', 'snipvault')\"\n                          style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\"\n                        />\n\n                        <!-- Fields requiring additional config -->\n                        <div v-else-if=\"fieldRequiresConfig(condition.field)\" class=\"flex flex-col gap-2\">\n                          <AppInput\n                            type=\"text\"\n                            v-model=\"condition[getRequiredConfigField(condition.field)]\"\n                            class=\"text-sm\"\n                            :placeholder=\"__(getRequiredConfigField(condition.field).replace('_', ' '), 'snipvault')\"\n                            style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\"\n                          />\n                          <AppInput type=\"text\" v-model=\"condition.value\" class=\"text-sm\" :placeholder=\"__('Value', 'snipvault')\" style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\" />\n                        </div>\n\n                        <!-- Default text input -->\n                        <AppInput v-else type=\"text\" v-model=\"condition.value\" class=\"text-sm\" :placeholder=\"__('Value', 'snipvault')\" style=\"padding-top: 0.25rem; padding-bottom: 0.25rem\" />\n                      </div>\n                    </div>\n                  </div>\n\n                  <!-- Add condition button -->\n                  <div>\n                    <AppButton type=\"secondary\" @click=\"newCondition(group)\" class=\"text-sm\">\n                      <AppIcon icon=\"add\" class=\"mr-1\" />\n                      {{ __(\"Add Condition\", \"snipvault\") }}\n                    </AppButton>\n                  </div>\n                </div>\n              </div>\n            </Transition>\n          </div>\n\n          <!-- Add group button -->\n          <div>\n            <AppButton type=\"primary\" class=\"text-sm\" @click=\"newGroup\">\n              <AppIcon icon=\"add\" class=\"mr-1\" />\n              {{ __(\"Add Group\", \"snipvault\") }}\n            </AppButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.v-enter-active,\n.v-leave-active {\n  transition: opacity 0.2s ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n  opacity: 0;\n}\n</style>\n","<script setup>\nimport { ref, watchEffect, watch, onMounted, onBeforeUnmount, nextTick } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { getSnippets } from \"@/components/app/snippets-list/src/getSnippets.js\";\n\n// Components\nimport CodeEditor from \"@/components/app/code-editor/index.vue\";\nimport AppSelect from \"@/components/utility/select/index.vue\";\nimport AppButton from \"@/components/utility/app-button/index.vue\";\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nimport AppInput from \"@/components/utility/text-input/index.vue\";\nimport AppTextArea from \"@/components/utility/text-area/index.vue\";\nimport AppToggle from \"@/components/utility/toggle/index.vue\";\nimport Tabs from \"@/components/utility/tabs/index.vue\";\nimport HookSelect from \"@/components/utility/wordpress-hook-select/index.vue\";\nimport Revisions from \"./src/revisions.vue\";\nimport Errors from \"./src/errors.vue\";\nimport Assistant from \"./src/assistant.vue\";\nimport Conditions from \"./src/conditions.vue\";\n\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n\n// Functions\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\nimport { notify } from \"@/assets/js/functions/notify.js\";\n\n// Refs\nimport { snippet, codeeditor, showAssistant } from \"./src/constants.js\";\nimport { snippets } from \"@/components/app/snippets-list/src/constants.js\";\nimport { unsavedChanges } from \"@/setup/constants.js\";\nconst showSettings = ref(true);\nconst originalSnippet = ref(null);\nconst showSettingsInfo = ref(true);\nconst showConditions = ref(false);\nconst ready = ref(false);\nconst showRevisions = ref(false);\nconst showErrors = ref(true);\nconst revisionsComp = ref(null);\nconst route = useRoute();\nconst router = useRouter();\nconst compiledCSS = ref(\"\");\nconst activeTab = ref(\"code\");\n\nconst tabs = {\n  code: { value: \"code\", label: __(\"SCSS\", \"snipvault\") },\n  compiled: { value: \"compiled\", label: __(\"Compiled css\", \"snipvault\") },\n};\n\nconst languageOptions = [\n  { value: \"PHP\", label: \"PHP\" },\n  { value: \"JAVASCRIPT\", label: \"Javascript\" },\n  { value: \"CSS\", label: \"CSS\" },\n  { value: \"SCSS\", label: \"SCSS\" },\n  { value: \"HTML\", label: \"HTML\" },\n];\nconst statusOptions = {\n  draft: { value: \"draft\", label: __(\"No\", \"snipvault\") },\n  publish: { value: \"publish\", label: __(\"Yes\", \"snipvault\") },\n};\nconst locationOptions = [\n  { value: \"everywhere\", label: __(\"Everywhere\", \"snipvault\") },\n  { value: \"admin\", label: __(\"Admin\", \"snipvault\") },\n  { value: \"frontend\", label: __(\"Frontend\", \"snipvault\") },\n];\nconst loadForOptions = [\n  { value: \"everyone\", label: __(\"Everyone\", \"snipvault\") },\n  { value: \"logged_in\", label: __(\"Logged in\", \"snipvault\") },\n  { value: \"logged_out\", label: __(\"Logged out\", \"snipvault\") },\n];\n\nconst getSnippet = async () => {\n  appStore.updateState(\"loading\", true);\n  ready.value = false;\n\n  const args = { endpoint: `wp/v2/svsnippets/${route.params.id}`, params: { status: \"any\" } };\n  const response = await lmnFetch(args);\n\n  appStore.updateState(\"loading\", false);\n\n  // Something went wrong\n  if (!response) return;\n\n  snippet.value = response.data;\n  originalSnippet.value = JSON.parse(JSON.stringify(response.data));\n  ready.value = true;\n\n  route.meta.name = snippet.value.title.rendered;\n};\n\nconst saveSnippet = async () => {\n  await codeeditor.value.formatDocument();\n\n  await nextTick();\n  // Ensures any folder changes are synced\n  const listSnippet = snippets.value.find((item) => item.id === snippet.value.id);\n  if (listSnippet) {\n    const folderID = listSnippet.meta.snippet_settings.folder;\n    snippet.value.meta.snippet_settings.folder = folderID;\n  }\n\n  appStore.updateState(\"loading\", true);\n  ready.value = false;\n\n  const data = {};\n  data.title = snippet.value.title.rendered;\n  data.meta = snippet.value.meta;\n  data.status = snippet.value.status;\n\n  const args = { endpoint: `wp/v2/svsnippets/${route.params.id}`, data, type: \"POST\" };\n  const response = await lmnFetch(args);\n\n  appStore.updateState(\"loading\", false);\n\n  // Something went wrong\n  if (!response) return;\n\n  notify({ type: \"success\", title: __(\"Snippet saved\", \"snipvault\") });\n\n  getSnippets();\n\n  snippet.value = response.data;\n  originalSnippet.value = JSON.parse(JSON.stringify(response.data));\n  unsavedChanges.value = false;\n  ready.value = true;\n\n  if (revisionsComp.value) {\n    revisionsComp.value.getRevisions();\n  }\n};\n\nconst returnSnippetFileName = (snippetFilePath) => {\n  const parts = snippetFilePath.split(\"/\");\n  return parts[parts.length - 1];\n};\n\n// Handler function for the keyboard shortcut\nconst handleKeyDown = (event) => {\n  // Check for Command+S (Mac) or Ctrl+S (Windows/Linux)\n  if ((event.metaKey || event.ctrlKey) && event.key === \"s\") {\n    // Prevent the default browser save dialog\n    event.preventDefault();\n\n    // Your save logic here\n    saveSnippet();\n  }\n};\n\nconst updateEditorLayout = () => {\n  if (!codeeditor.value) return;\n  codeeditor.value.updateLayout();\n};\n\nwatch(\n  () => route.params.id,\n  (newVal, oldVal) => {\n    if (newVal != oldVal) getSnippet();\n  },\n  { immediate: true }\n);\n\nwatch(() => showSettings.value, updateEditorLayout);\nwatch(() => showAssistant.value, updateEditorLayout);\n\nwatch(\n  () => snippet.value,\n  (newVal, oldVal) => {\n    if (ready.value && snippet.value.meta.snippet_content != originalSnippet.value.meta.snippet_content) {\n      unsavedChanges.value = true;\n    }\n  },\n  { deep: true }\n);\n\nconst getCompiled = async () => {\n  appStore.updateState(\"loading\", true);\n  ready.value = false;\n\n  const args = { endpoint: `snipvault/v1/scss/compile`, params: {}, type: \"POST\", data: { scss: snippet.value.meta.snippet_content } };\n  const response = await lmnFetch(args);\n\n  appStore.updateState(\"loading\", false);\n\n  // Something went wrong\n  if (!response) return;\n\n  compiledCSS.value = response.data.compiled;\n};\n\n// Add event listener when component is mounted\nonMounted(() => {\n  window.addEventListener(\"keydown\", handleKeyDown);\n});\n\n// Remove event listener before component is unmounted\nonBeforeUnmount(() => {\n  window.removeEventListener(\"keydown\", handleKeyDown);\n});\n\nwatchEffect(() => {\n  if (activeTab.value == \"compiled\") {\n    getCompiled();\n  }\n});\n\nwatchEffect(() => {\n  if (snippet.value?.meta?.snippet_settings?.language != \"SCSS\") {\n    activeTab.value = \"code\";\n  }\n});\n</script>\n\n<template>\n  <div class=\"flex flex-col w-full h-full\" v-if=\"snippet\" :key=\"snippet?.id\">\n    <div class=\"border-b border-zinc-200 dark:border-zinc-700 px-6 py-3 flex flex-row gap-3\">\n      <div class=\"grow flex flex-col\">\n        <input v-model=\"snippet.title.rendered\" class=\"bg-white dark:bg-zinc-900 focus:outline-0\" style=\"field-sizing: content\" />\n        <div class=\"font-mono text-xs text-zinc-500 dark:text-zinc-400\">{{ returnSnippetFileName(snippet.meta.snippet_file_path) || __(\"Path will generate after save\", \"snipvault\") }}</div>\n      </div>\n\n      <!-- status Option -->\n      <div class=\"flex flex-row items-center\">\n        <div class=\"flex flex-row gap-2\">\n          <div\n            class=\"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-1 h-7 items-center cursor-pointer overflow-hidden relative w-14 border border-zinc-200 dark:border-zinc-700\"\n            @click=\"\n              snippet.status = snippet.status == 'draft' ? 'publish' : 'draft';\n              saveSnippet();\n            \"\n          >\n            <div class=\"p-[0.2rem] absolute transition-all top-0 bottom-0 duration-500 left-0\" :class=\"snippet.status == 'publish' ? 'left-full -translate-x-full' : ''\">\n              <div\n                class=\"aspect-square rounded-md order-2 h-full border\"\n                :class=\"snippet.status == 'publish' ? 'bg-green-300/40 dark:bg-green-700/60 border-green-500 dark:border-green-500' : 'bg-white dark:bg-zinc-700 border-zinc-200 dark:border-zinc-700'\"\n              ></div>\n            </div>\n          </div>\n\n          <AppButton @click=\"saveSnippet\" type=\"primary\" class=\"text-sm\">{{ __(\"Save\", \"snipvault\") }}</AppButton>\n          <AppButton @click=\"showAssistant = !showAssistant\" type=\"default\" class=\"text-lg\"><AppIcon :icon=\"showAssistant ? 'sparkle' : 'sparkle'\" /></AppButton>\n          <AppButton @click=\"showSettings = !showSettings\" type=\"default\" class=\"text-lg\"><AppIcon :icon=\"showSettings ? 'right_panel_close' : 'right_panel_open'\" /></AppButton>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"grow flex flex-row max-w-full overflow-hidden\">\n      <RouterView v-slot=\"{ Component }\" key=\"error-inspect\">\n        <component :is=\"Component\" v-if=\"Component\" />\n\n        <div v-else class=\"w-full h-full flex flex-col grow shrink\" :style=\"showSettings || showAssistant ? `max-width: calc(100% - 360px)` : ''\">\n          <div class=\"flex flex-row\" v-if=\"snippet.meta.snippet_settings.language === 'SCSS'\">\n            <div class=\"border-b border-zinc-200 dark:border-zinc-700 w-4\"></div>\n            <Tabs :options=\"tabs\" v-model=\"activeTab\" class=\"grow text-sm\" />\n          </div>\n          <CodeEditor ref=\"codeeditor\" v-model=\"snippet.meta.snippet_content\" :language=\"snippet.meta.snippet_settings.language\" class=\"grow shrink overflow-hidden\" v-if=\"activeTab == 'code'\" />\n          <CodeEditor ref=\"codeeditor\" v-model=\"compiledCSS\" language=\"css\" class=\"grow shrink overflow-hidden\" v-if=\"activeTab == 'compiled'\" :id=\"showSettings\" />\n        </div>\n      </RouterView>\n\n      <Assistant v-if=\"showAssistant\" :key=\"showAssistant\" />\n\n      <div class=\"border-l border-zinc-200 dark:border-zinc-700 w-[360px] shrink-0 h-full max-h-full overflow-auto flex flex-col\" v-if=\"showSettings && !showAssistant\">\n        <div\n          class=\"col-span-3 flex flex-row place-content-between items-center p-6 border-b border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100\"\n          @click=\"showSettingsInfo = !showSettingsInfo\"\n        >\n          <div class=\"\">{{ __(\"Snippet settings\", \"snipvault\") }}</div>\n          <AppButton type=\"transparent\" class=\"text-sm\"><AppIcon :icon=\"showSettingsInfo ? 'remove' : 'add'\" /></AppButton>\n        </div>\n\n        <div class=\"grid grid-cols-3 gap-3 p-6 border-b border-zinc-200 dark:border-zinc-700\" v-if=\"showSettingsInfo\">\n          <!-- Title -->\n          <div class=\"flex flex-col justify-center\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Title\", \"snipvault\") }}</span>\n          </div>\n          <AppInput type=\"text\" v-model=\"snippet.title.rendered\" class=\"col-span-2\" />\n\n          <!-- Status -->\n          <div class=\"flex flex-col justify-center\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Autoload\", \"snipvault\") }}</span>\n          </div>\n          <AppToggle v-model=\"snippet.status\" :options=\"statusOptions\" class=\"col-span-2\" />\n\n          <!-- Hook -->\n          <template v-if=\"snippet.meta.snippet_settings.language == 'PHP'\">\n            <div class=\"flex flex-col justify-center\">\n              <span\n                class=\"text-sm text-zinc-500 dark:text-zinc-400 underline decoration-wavy decoration-[0.5px] cursor-pointer\"\n                :title=\"__(`The wordpress hook to load the snippet on. Default is plugins_loaded. If the snippet has conditions active it will default to 'wp' hook.`)\"\n                >{{ __(\"Load on hook\", \"snipvault\") }}</span\n              >\n            </div>\n            <HookSelect v-model=\"snippet.meta.snippet_settings.hook\" />\n          </template>\n\n          <!-- Language -->\n          <div class=\"flex flex-col justify-center\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Language\", \"snipvault\") }}</span>\n          </div>\n          <AppSelect v-model=\"snippet.meta.snippet_settings.language\" :options=\"languageOptions\" class=\"col-span-2\" />\n\n          <!-- Version -->\n          <div class=\"flex flex-col justify-center\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Version\", \"snipvault\") }}</span>\n          </div>\n          <AppInput type=\"text\" v-model=\"snippet.meta.snippet_settings.version\" placeholder=\"1.0.0\" class=\"col-span-2\" />\n\n          <!-- Load for -->\n          <div class=\"flex flex-col justify-center\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Load for\", \"snipvault\") }}</span>\n          </div>\n          <AppSelect v-model=\"snippet.meta.snippet_settings.load_for\" :options=\"loadForOptions\" class=\"col-span-2\" />\n\n          <!-- Location -->\n          <div class=\"flex flex-col justify-center\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Location\", \"snipvault\") }}</span>\n          </div>\n          <AppSelect v-model=\"snippet.meta.snippet_settings.location\" :options=\"locationOptions\" class=\"col-span-2\" />\n\n          <!-- Capability -->\n          <div class=\"flex flex-col justify-center\">\n            <span\n              class=\"text-sm text-zinc-500 dark:text-zinc-400 underline decoration-wavy decoration-[0.5px] cursor-pointer\"\n              :title=\"__('SnipVault will only load the snippet if the current user has the specified capability.', 'snipvault')\"\n              >{{ __(\"Needs capability\", \"snipvault\") }}</span\n            >\n          </div>\n          <AppInput type=\"text\" v-model=\"snippet.meta.snippet_settings.capability\" placeholder=\"manage_options\" class=\"col-span-2\" />\n\n          <!-- Footer -->\n          <template v-if=\"snippet.meta.snippet_settings.language == 'JAVASCRIPT' || snippet.meta.snippet_settings.language == 'HTML'\">\n            <div class=\"flex flex-col justify-center\">\n              <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Load in footer\", \"snipvault\") }}</span>\n            </div>\n            <AppToggle v-model=\"snippet.meta.snippet_settings.footer\" class=\"col-span-2\" />\n          </template>\n\n          <template v-if=\"snippet.meta.snippet_settings.language == 'JAVASCRIPT'\">\n            <div class=\"flex flex-col justify-center\">\n              <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Is module\", \"snipvault\") }}</span>\n            </div>\n            <AppToggle v-model=\"snippet.meta.snippet_settings.module\" class=\"col-span-2\" />\n          </template>\n\n          <!-- Description -->\n          <div class=\"flex flex-col pt-2\">\n            <span class=\"text-sm text-zinc-500 dark:text-zinc-400\">{{ __(\"Description\", \"snipvault\") }}</span>\n          </div>\n          <AppTextArea v-model=\"snippet.meta.snippet_settings.description\" class=\"col-span-2\" rows=\"5\" />\n        </div>\n\n        <div\n          class=\"col-span-3 flex flex-row place-content-between items-center p-6 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100 border-b\"\n          @click=\"showConditions = !showConditions\"\n        >\n          <div class=\"\">{{ __(\"Conditions\", \"snipvault\") }}</div>\n          <AppButton type=\"transparent\" class=\"text-sm\"><AppIcon :icon=\"showConditions ? 'remove' : 'add'\" /></AppButton>\n        </div>\n\n        <Conditions v-if=\"showConditions\" />\n\n        <div\n          class=\"col-span-3 flex flex-row place-content-between items-center p-6 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100\"\n          @click=\"showRevisions = !showRevisions\"\n          :class=\"[showRevisions ? 'border-b' : '', showConditions ? 'border-t' : '']\"\n        >\n          <div class=\"\">{{ __(\"Code revisions\", \"snipvault\") }}</div>\n          <AppButton type=\"transparent\" class=\"text-sm\"><AppIcon :icon=\"showRevisions ? 'remove' : 'add'\" /></AppButton>\n        </div>\n\n        <Revisions v-if=\"showRevisions\" ref=\"revisionsComp\" />\n\n        <div\n          v-if=\"snippet.meta.snippet_settings.language == 'PHP'\"\n          class=\"col-span-3 flex flex-row place-content-between items-center p-6 border-b border-t border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100\"\n          @click=\"showErrors = !showErrors\"\n        >\n          <div class=\"\">{{ __(\"Errors\", \"snipvault\") }}</div>\n          <AppButton type=\"transparent\" class=\"text-sm\"><AppIcon :icon=\"showErrors ? 'remove' : 'add'\" /></AppButton>\n        </div>\n\n        <Errors v-if=\"showErrors\" v-model=\"snippet\" />\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["attrs","useAttrs","model","_useModel","props","__props","tabRef","ref","tabContainer","showBack","bgStyle","setBgStyle","val","keys","index","item","rect","containerRect","left","returnActiveClass","setActive","value","watchEffect","key","isVisible","contextmenu","position","show","evt","fixedPosition","event","pos","setupClickOutside","checkForOffScreen","bounds","bottom","right","close","removeClickOutside","isOpen","onClickOutside","returnPosition","__expose","wordpressActionHooks","useAppStore","search","categoryFilter","loading","parent","selectedHookName","showingResults","formatCategoryName","name","categories","computed","cats","category","filteredHooks","results","subcategory","hookEntry","parts","hook","description","a","b","aName","bName","term","groupedHooks","h","showOptions","returnThisPos","selectHook","clearSelection","handleContextMenuClose","route","useRoute","router","useRouter","revisions","activeRevisionId","getRevisions","args","response","lmnFetch","formatDate","isoString","date","userLocale","loadRevision","revision","loadDiffEditor","codeeditor","nextTick","exitRevisions","snippet","appStore","deleteError","data","notify","getClaudeSystemPrompt","currentCode","language","newMessage","confirm","messages","isLoading","chatContainerRef","formatTime","timestamp","milliseconds","scrollToBottom","sendMessage","mappedMessages","systemPrompt","_a","parseClaudeResponse","error","messageData","result","messageMatch","codeMatch","saveMessages","deleteAllMessages","onMounted","watch","manualId","posts","searchDebounce","selectedPostTitle","selectedPostID","showManualInput","searchPosts","searchTerm","postTypes","searchPromises","postType","post","titleA","titleB","_b","startsWithA","startsWithB","selectPost","getPostById","postId","submitManualId","toggleManualInput","operatorOptions","comparisonOptions","fieldOptions","flatFieldOptions","acc","group","dynamicOptionsData","type","openGroups","toggleOpenGroup","foundIndex","getFieldData","fieldValue","getFieldLabel","field","getFieldType","getFieldOptions","opt","fieldRequiresConfig","getRequiredConfigField","newGroup","removeGroup","openIndex","i","duplicateGroup","newGroupCopy","newCondition","removeCondition","isObject","showSettings","originalSnippet","showSettingsInfo","showConditions","ready","showRevisions","showErrors","revisionsComp","compiledCSS","activeTab","tabs","languageOptions","statusOptions","locationOptions","loadForOptions","getSnippet","saveSnippet","listSnippet","snippets","folderID","getSnippets","unsavedChanges","returnSnippetFileName","snippetFilePath","handleKeyDown","updateEditorLayout","newVal","oldVal","showAssistant","getCompiled","onBeforeUnmount","_c"],"mappings":"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A,cAAA,CAEJ,EAGA,MAAO,CACL,QAAS,CACP,aACA,aACA,gBACA,wBACA,sBACA,qBACA,6BACA,iBACA,aACA,eACA,qBACA,cACF,EACA,MAAO,CACL,iBACA,6BACA,YACA,wBACA,kBACA,wBACA,yBACA,eACA,wBACA,yBACA,cACA,aACA,eACF,EACA,MAAO,CACL,0BACA,iBACA,kBACA,mBACF,EACA,SAAU,CACR,eACA,iBACA,gBACA,oBACA,eACA,2BACF,EACA,MAAO,CACL,oBACA,oBACA,0BACA,2BACA,gBACA,iBACA,gBACA,WACA,YACA,oBACA,oBACA,gBACF,EACA,SAAU,CACR,2BACA,mBACA,qCACF,EACA,cAAe,CACb,qBACA,qCACA,yBACA,gBAAA,CAEJ,EAGA,MAAO,CACL,QAAS,CACP,eACA,UACA,YACA,eACA,yBACA,uBACF,EACA,QAAS,CACP,aACA,WACA,WACA,gBACA,kBACA,SACF,EACA,WAAY,CACV,iCACA,sBACA,kBACF,EACA,SAAU,CACR,sBACA,qBACA,sBACA,eACA,uBAAA,CAEJ,EAGA,QAAS,CACP,MAAO,CACL,eACA,6BACA,iBACA,gBACA,kBACA,qBACA,uBACA,cACF,EACA,WAAY,CACV,cACA,YACA,cACA,sBACA,qBACA,qBACA,0BACA,iBACF,EACA,SAAU,CACR,oBACA,eACA,wBACA,qBACA,iBACA,uBACF,EACA,YAAa,CACX,mBACA,kCACA,iBACA,kBACA,qBACA,mBAAA,CAEJ,EAGA,SAAU,CACR,QAAS,CACP,eACA,cACA,8BACA,0BACA,iBACA,eACA,iBACA,gBACA,gBACF,EACA,MAAO,CACL,cACA,cACA,aACA,gBACA,gBACA,gBACA,uBAAA,CAEJ,EAGA,SAAU,CACR,QAAS,CACP,gBACA,uCACA,kCACA,iCACA,iCACA,4BAAA,CAEJ,EAGA,cAAe,CACb,QAAS,CACP,iBACA,UACA,iBACA,kCACA,4BACA,iCACA,uBAAA,CAEJ,EAGA,SAAU,CACR,QAAS,CACP,sBACA,qBACA,wBACA,2BACA,uBACA,oBACA,kB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"}