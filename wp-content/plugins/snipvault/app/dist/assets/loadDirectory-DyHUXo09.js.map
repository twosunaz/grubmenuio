{"version":3,"file":"loadDirectory-DyHUXo09.js","sources":["../../src/components/app/file-browser/src/constants.js","../../src/components/app/file-browser/src/loadDirectory.js"],"sourcesContent":["import { ref } from \"vue\";\n\nexport const loading = ref(false);\nexport const pathSegments = ref([]);\nexport const currentPath = ref(\"\");\nexport const search = ref(\"\");\nexport const items = ref([]);\n","import { useAppStore } from \"@/store/app/app.js\";\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\nimport { notify } from \"@/assets/js/functions/notify.js\";\nimport { loading, pathSegments, currentPath, search, items } from \"./constants.js\";\n// Const\nlet appStore;\n\n// Load directory contents\nexport const loadDirectory = async (path = \"\", suppressLoading) => {\n  if (!appStore) {\n    appStore = useAppStore();\n  }\n\n  if (!suppressLoading) {\n    loading.value = true;\n    appStore.updateState(\"loading\", true);\n  }\n\n  const args = {\n    endpoint: `snipvault/v1/filesystem/list/`,\n    type: \"GET\",\n    params: { path: path, search: search.value },\n  };\n\n  const response = await lmnFetch(args);\n  loading.value = false;\n  appStore.updateState(\"loading\", false);\n\n  if (!response) return;\n\n  if (response.data && response.data.success) {\n    items.value = response.data.entries || [];\n    currentPath.value = path;\n\n    // Update path segments for breadcrumb\n    if (path) {\n      pathSegments.value = path.split(\"/\");\n    } else {\n      pathSegments.value = [];\n    }\n  }\n};\n"],"names":["loading","ref","pathSegments","currentPath","search","items","appStore","loadDirectory","path","suppressLoading","useAppStore","args","response","lmnFetch"],"mappings":"+FAEY,MAACA,EAAUC,EAAI,EAAK,EACnBC,EAAeD,EAAI,EAAE,EACrBE,EAAcF,EAAI,EAAE,EACpBG,EAASH,EAAI,EAAE,EACfI,EAAQJ,EAAI,CAAE,CAAA,ECD3B,IAAIK,EAGQ,MAACC,EAAgB,MAAOC,EAAO,GAAIC,IAAoB,CAC5DH,IACHA,EAAWI,EAAa,GAGrBD,IACHT,EAAQ,MAAQ,GAChBM,EAAS,YAAY,UAAW,EAAI,GAGtC,MAAMK,EAAO,CACX,SAAU,gCACV,KAAM,MACN,OAAQ,CAAE,KAAMH,EAAM,OAAQJ,EAAO,KAAO,CAC7C,EAEKQ,EAAW,MAAMC,EAASF,CAAI,EACpCX,EAAQ,MAAQ,GAChBM,EAAS,YAAY,UAAW,EAAK,EAEhCM,GAEDA,EAAS,MAAQA,EAAS,KAAK,UACjCP,EAAM,MAAQO,EAAS,KAAK,SAAW,CAAE,EACzCT,EAAY,MAAQK,EAGhBA,EACFN,EAAa,MAAQM,EAAK,MAAM,GAAG,EAEnCN,EAAa,MAAQ,CAAE,EAG7B"}