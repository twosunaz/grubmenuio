import{m as ke,G as me,b as ie,g as i,o as a,A as pe,j as e,H as Ae,s as D,F as I,v as j,I as ve,p as u,i as n,_ as L,e as y,J as se,n as W,K as fe,L as De,l as Q,u as ae,f as oe,x as N,B as ge,w as A,k as E,t as p,a as ce,c as _e,T as ze,z as ne,r as $e,N as Ve,O as Ce,q as ee,y as Se,P as Pe,Q as Ue,D as te,R as Ee,C as Le,S as be,E as Ie}from"../app.build.DVcfFWU_.js";import{g as Oe}from"./getSnippets-DTpeouTX.js";import{_ as xe}from"./index-CqlI0lnC.js";import{_ as F}from"./index-CRgHs0Pg.js";import{_ as Re}from"./index-BxFqpWTU.js";import{i as Ne,_ as de}from"./index-D1jnwpSe.js";import{c as K,g as qe,t as Fe,s as Y,a as o}from"./constants-BKh1yzVJ.js";import{l as G}from"./lmnFetch-DeRrp9BG.js";import{n as ue}from"./notify-CXlPex_L.js";import{_ as He}from"./index-Bt0YRkAh.js";import{s as je}from"./constants-OryjEDvQ.js";const We={class:"relative flex flex-row items-stretch"},Be=["value","disabled","innerHTML"],Ge=["label"],Je=["value","innerHTML"],Ye={class:"absolute right-0 top-0 bottom-0 px-2 py-1 z-[1] flex pointer-events-none"},X={__name:"index",props:ke(["options","categories"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(M){const x=me(),b=ie(M,"modelValue");return(c,h)=>(a(),i("div",We,[pe(e("select",ve(u(x),{"onUpdate:modelValue":h[0]||(h[0]=d=>b.value=d),class:"bg-white dark:bg-transparent border border-zinc-200 dark:border-zinc-700 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-600/10 dark:focus:border-indigo-600/10 block w-full px-2 py-1 appearance-none pr-8"}),[(a(!0),i(I,null,j(M.options,d=>(a(),i("option",{value:d.value,disabled:!!d.disabled,innerHTML:d.label},null,8,Be))),256)),M.categories?(a(!0),i(I,{key:0},j(M.categories,d=>(a(),i("optgroup",{label:d.group},[(a(!0),i(I,null,j(d.options,k=>(a(),i("option",{value:k.value,innerHTML:k.label},null,8,Je))),256))],8,Ge))),256)):D("",!0)],16),[[Ae,b.value]]),e("div",Ye,[n(L,{icon:"unfold",class:"text-lg my-auto"})])]))}},Ke={class:"relative"},Xe=["onClick"],Qe=["innerHTML"],Ze={__name:"index",props:ke({options:{default:()=>({false:{label:"No",value:!1},true:{label:"Yes",value:!0}}),type:Object},autoselect:{default:()=>!0,type:Boolean},allowDeselect:{default:()=>!1,type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(M){const x=M,b=ie(M,"modelValue"),c=y(null),h=y(null),d=y(!0),k=y({width:null,left:null,right:null,"z-index":1,bottom:"0px"}),V=()=>{if(c.value===null)return;let T=String(b.value);const z=Object.keys(x.options),f=z.findIndex(q=>q==T);if(f<0)return d.value=!1;z[f];const w=c.value[f].getBoundingClientRect(),C=h.value.getBoundingClientRect(),O=w.left-C.left;d.value=!0,k.value.width=`${w.width}px`,k.value.left=`${O}px`},U=T=>T.value===b.value?"text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 hover:dark:text-zinc-100 ",P=T=>{b.value===T&&x.allowDeselect?b.value=null:b.value=T,V()};return se(()=>{if((typeof b.value>"u"||b.value===null)&&x.autoselect){const T=Object.keys(x.options)[0];P(x.options[T].value)}else V()}),(T,z)=>(a(),i("div",Ke,[e("div",{ref_key:"tabContainer",ref:h,class:"relative flex border-b border-zinc-200 dark:border-zinc-700 max-w-full gap-3",style:{"overflow-x":"auto"}},[(a(!0),i(I,null,j(M.options,(f,_)=>(a(),i("a",{ref_for:!0,ref_key:"tabRef",ref:c,type:"button",class:W(["py-3 px-2 text-center cursor-pointer transition-all select-none",U(f)]),style:{"z-index":"2"},onClick:w=>P(f.value)},[e("div",{class:"whitespace-nowrap",innerHTML:f.label},null,8,Qe)],10,Xe))),256))],512),e("div",{class:"absolute transition-all border-b-[2px] border-indigo-600",style:fe(k.value)},null,4)]))}},Te={__name:"index",props:{teleport:{type:Boolean,required:!1,default:!1},offsetY:{type:Number,required:!1,default:0},offsetX:{type:Number,required:!1,default:0}},setup(M,{expose:x}){const b=M,c=y(!1),h=y(null),d=y({y:0,x:0}),k=async(w,C)=>{const O=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(O);let q={clientX:w.clientX,clientY:w.clientY};C&&(q=C),d.value.x=q.clientX+b.offsetX,d.value.y=q.clientY+b.offsetY,c.value=!0,requestAnimationFrame(()=>{c.value&&(T(),V())})},V=()=>{let w=h.value.getBoundingClientRect(),C=w.bottom,O=w.right,q=w.left;C>window.innerHeight&&(d.value.y=d.value.y-(C-window.innerHeight)-20),O>window.innerWidth&&(d.value.x=d.value.x-(O-window.innerWidth)-40),q<0&&(d.value.x=32)},U=()=>{z(),c.value=!1},P=()=>c.value,T=()=>{document.addEventListener("click",f),document.addEventListener("contextmenu",f)},z=()=>{document.removeEventListener("click",f),document.removeEventListener("contextmenu",f)},f=w=>{if(!h.value||!h.value.contains(w.target))return U()},_=()=>`top: ${d.value.y}px; left: ${d.value.x}px;`;return x({show:k,close:U,isOpen:P}),(w,C)=>c.value?(a(),i("div",{key:0,ref_key:"contextmenu",ref:h,style:fe(_()),onClick:C[0]||(C[0]=Q(()=>{},["prevent","stop"])),class:"bg-white dark:bg-zinc-900 z-[9999] shadow-sm rounded-xl border border-zinc-600/10 dark:border-zinc-800 p-3 fixed text-sm"},[De(w.$slots,"default")],4)):D("",!0)}},le={core:{initialization:["muplugins_loaded","registered_taxonomy","registered_post_type","plugins_loaded","sanitize_comment_cookies","setup_theme","load_textdomain","after_setup_theme","init","wp_loaded","wp_register_sidebar_widget","wp_default_scripts","wp_default_styles","wp_enqueue_scripts","admin_enqueue_scripts","wp_print_styles","wp_print_scripts","wp","template_redirect","parse_request","send_headers","parse_query","pre_get_posts"],shutdown:["shutdown","wp_footer","admin_footer"]},admin:{general:["admin_init","admin_menu","admin_notices","network_admin_notices","admin_print_scripts","admin_print_styles","admin_print_footer_scripts","admin_bar_menu","admin_head","admin_footer","wp_dashboard_setup","rightnow_end"],posts:["add_meta_boxes","add_meta_boxes_{post_type}","save_post","save_post_{post_type}","pre_post_update","edit_form_after_title","edit_form_after_editor","post_updated","post_updated_messages","transition_post_status","delete_post","trash_post","edit_form_top"],media:["wp_media_upload_handler","add_attachment","edit_attachment","delete_attachment"],comments:["edit_comment","delete_comment","trash_comment","edit_form_comment","comment_post","transition_comment_status"],users:["show_user_profile","edit_user_profile","personal_options_update","edit_user_profile_update","user_register","profile_update","user_new_form","wp_login","wp_logout","retrieve_password","lostpassword_post","password_reset"],settings:["admin_page_access_denied","load-{page_hook}","network_admin_edit_option_{$option}"],customization:["customize_register","customize_controls_enqueue_scripts","customize_preview_init","customize_save"]},theme:{general:["widgets_init","wp_head","wp_footer","wp_body_open","dynamic_sidebar_before","dynamic_sidebar_after"],content:["loop_start","loop_end","the_post","pre_get_posts","posts_selection","wp_meta"],navigation:["wp_nav_menu_item_custom_fields","wp_nav_menu_objects","wp_nav_menu_args"],comments:["comment_form_before","comment_form_after","pre_comment_on_post","comment_post","wp_set_comment_status"]},content:{posts:["publish_post","publish_{$post->post_type}","wp_insert_post","wp_trash_post","wp_untrash_post","before_delete_post","wp_after_insert_post","post_updated"],taxonomies:["create_term","edit_term","delete_term","created_{$taxonomy}","edited_{$taxonomy}","delete_{$taxonomy}","wp_terms_checklist_args","parse_tax_query"],comments:["wp_insert_comment","comment_post","wp_set_comment_status","preprocess_comment","comment_closed","comment_form_defaults"],attachments:["wp_handle_upload","wp_generate_attachment_metadata","add_attachment","edit_attachment","attachment_updated","delete_attachment"]},database:{general:["switch_theme","switch_blog","pre_update_option_{$option}","update_option_{$option}","deleted_option","added_option","updated_option","pre_get_users","pre_user_query"],posts:["found_posts","posts_where","posts_join","posts_orderby","posts_groupby","posts_request","post_updated_messages"]},rest_api:{general:["rest_api_init","rest_api_inserted_{$this->post_type}","rest_prepare_{$this->post_type}","rest_insert_{$this->post_type}","rest_delete_{$this->post_type}","rest_authentication_errors"]},notifications:{general:["phpmailer_init","wp_mail","wp_mail_failed","comment_notification_recipients","comment_notification_text","wp_new_user_notification_email","password_change_email"]},security:{general:["check_admin_referer","check_ajax_referer","auth_cookie_malformed","auth_cookie_bad_username","auth_cookie_bad_hash","auth_cookie_valid","wp_authenticate","set_auth_cookie","clear_auth_cookie"]},ajax:{general:["wp_ajax_{$action}","wp_ajax_nopriv_{$action}"]},widgets:{general:["widgets_init","in_widget_form","widget_update_callback","widget_{$this->id_base}_instance"]},shortcodes:{general:["register_shortcode_ui"]},updates:{general:["upgrader_process_complete","update_option_{$option}","wp_update_plugins","wp_update_themes","wp_version_check","upgrader_pre_download","upgrader_post_install"]},multisite:{general:["wpmu_new_blog","wpmu_new_user","wpmu_activate_user","wpmu_activate_blog","add_user_to_blog","remove_user_from_blog","ms_site_not_found","wp_initialize_site","activate_blog","activate_header","activate_wp","network_admin_notices","network_site_url_form","network_options_add"]},block_editor:{general:["enqueue_block_editor_assets","enqueue_block_assets","block_categories","registered_block_type","unregistered_block_type","block_editor_meta_box_hidden_fields","block_editor_settings","filter_block_context"]},cron:{general:["wp_scheduled_delete","wp_scheduled_auto_draft_delete","wp_updating_attachment_metadata","wp_privacy_delete_old_export_files","delete_expired_transients"]},plugins:{general:["activate_plugin","deactivate_plugin","activated_plugin","deactivated_plugin","pre_uninstall_plugin","register_plugin_settings"]},cache:{general:["clean_object_term_cache","clean_post_cache","clean_term_cache","clean_user_cache","clean_comment_cache","clean_page_cache","clean_blog_cache","clean_network_cache"]},import_export:{general:["export_wp","import_start","import_end","export_filters","export_wp_die_handler"]},privacy:{general:["wp_privacy_personal_data_export_file","wp_privacy_personal_data_erased","wp_privacy_personal_data_export_page","wp_privacy_personal_data_export_file_created","wp_privacy_personal_data_erased"]}},et=["placeholder"],tt={key:0,class:"animate-spin text-indigo-500 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},st=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),at=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),lt=[st,at],ot={class:"flex flex-col gap-3 w-[380px]"},nt={class:"text-sm font-medium"},it={class:"flex flex-col gap-2"},rt={class:"text-xs text-gray-500"},dt={key:0,class:"py-4 flex justify-center"},ut=e("svg",{class:"animate-spin text-indigo-500 w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),pt=[ut],ct={key:1,class:"py-4 text-center text-gray-500"},_t={key:2,class:"py-4 text-center text-gray-500"},mt={key:3,class:"flex flex-col max-h-80 overflow-auto"},vt={class:"text-xs font-semibold bg-zinc-100 dark:bg-zinc-800 px-2 py-1 sticky top-0 rounded-lg"},ft=["onClick"],gt={class:"font-mono text-sm"},wt={key:0,class:"text-xs text-gray-500 mt-1"},ht={class:"text-xs text-indigo-500 mt-1"},yt={__name:"index",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(M){ae();const x=me(),b=ie(M,"modelValue"),c=y(""),h=y("all"),d=y(!1),k=y(null),V=y(null),U=y(""),P=y(!1),T=S=>S.charAt(0).toUpperCase()+S.slice(1).replace(/_/g," "),z=oe(()=>{const S=[{label:(0,window.wp.i18n.__)("All Categories","snipvault"),value:"all"}];return Object.keys(le).forEach(l=>{S.push({label:T(l),value:l})}),S}),f=oe(()=>{d.value=!0;const S=[];return(h.value==="all"?Object.keys(le):[h.value]).forEach(r=>{le[r]&&Object.keys(le[r]).forEach(m=>{le[r][m].forEach(v=>{const t=v.split("//"),s=t[0].trim(),$=t.length>1?t[1].trim():"";(!c.value||c.value.length<2||s.toLowerCase().includes(c.value.toLowerCase()))&&S.push({name:s,description:$,category:r,subcategory:m})})})}),S.sort((r,m)=>{if(c.value&&c.value.length>=2){const v=r.name.toLowerCase(),t=m.name.toLowerCase(),s=c.value.toLowerCase();if(v===s&&t!==s)return-1;if(v!==s&&t===s)return 1;if(v.startsWith(s)&&!t.startsWith(s))return-1;if(!v.startsWith(s)&&t.startsWith(s))return 1}return r.name.localeCompare(m.name)}),d.value=!1,S}),_=oe(()=>[...new Set(f.value.map(l=>l.subcategory))].map(l=>({name:l,displayName:T(l),hooks:f.value.filter(r=>r.subcategory===l)})));oe(()=>f.value.length>0||c.value&&c.value.length>1);const w=S=>{V.value.show(S,q()),P.value=!0},C=S=>{b.value=S.name,U.value=S.name,V.value.close()},O=S=>{b.value="",U.value=""},q=()=>{const l=k.value.getBoundingClientRect();return{clientY:l.bottom+10,clientX:l.left}},H=()=>{c.value="",P.value=!1};return se(()=>{b.value?U.value=b.value:U.value=""}),(S,l)=>(a(),i(I,null,[e("div",ve(u(x),{ref_key:"parent",ref:k,class:"px-2 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm col-span-2 flex flex-row gap-1 items-center"}),[pe(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>b.value=r),type:"text",placeholder:S.__("Select a WordPress hook","snipvault"),class:"flex-grow bg-transparent outline-0 focus:outline-0"},null,8,et),[[ge,b.value]]),d.value?(a(),i("svg",tt,lt)):D("",!0),b.value?(a(),N(E,{key:1,type:"transparent",onClick:Q(O,["stop","prevent"])},{default:A(()=>[n(L,{icon:"close"})]),_:1})):D("",!0),n(E,{type:"transparent",onClick:w},{default:A(()=>[n(L,{icon:"search"})]),_:1})],16),n(Te,{ref_key:"contextmenu",ref:V,onClose:H},{default:A(()=>[e("div",ot,[e("div",nt,p(S.__("Search WordPress Hooks","snipvault")),1),e("div",it,[e("label",rt,p(S.__("Filter by Category","snipvault")),1),n(X,{modelValue:h.value,"onUpdate:modelValue":l[1]||(l[1]=r=>h.value=r),options:z.value},null,8,["modelValue","options"])]),n(F,{type:"text",modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=r=>c.value=r),icon:"search",placeholder:"Search hooks...",autofocus:""},null,8,["modelValue"]),d.value?(a(),i("div",dt,pt)):f.value.length===0&&c.value.length>1?(a(),i("div",ct,p(S.__("No hooks found matching your search","snipvault")),1)):f.value.length===0&&!P.value?(a(),i("div",_t,p(S.__("No hooks found in this category","snipvault")),1)):(a(),i("div",mt,[(a(!0),i(I,null,j(_.value,r=>(a(),i(I,{key:r.name},[e("div",vt,p(r.displayName),1),(a(!0),i(I,null,j(r.hooks,m=>(a(),i("div",{key:m.name,class:"flex flex-col p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors rounded-lg cursor-pointer",onClick:Q(v=>C(m),["stop","prevent"])},[e("div",gt,p(m.name),1),m.description?(a(),i("div",wt,p(m.description),1)):D("",!0),e("div",ht,p(T(m.category)),1)],8,ft))),128))],64))),128))]))])]),_:1},512)],64))}},bt={key:0,class:"flex flex-col gap-2 p-4"},xt=e("div",{class:"w-full rounded-lg bg-zinc-100 dark:bg-zinc-800 h-10 animate-pulse"},null,-1),kt=[xt],zt={key:1,class:"p-4 flex flex-col grow"},$t=["onClick"],Vt={class:"text-sm grow"},Ct={__name:"revisions",setup(M,{expose:x}){ae();const b=ce(),c=_e(),h=y([]),d=y(!1),k=y(null),V=async()=>{d.value=!0;const z={endpoint:`wp/v2/svsnippets/${b.params.id}/revisions`,params:{status:"any",per_page:100}},f=await G(z);d.value=!1,f&&(h.value=f.data)},U=z=>{const f=new Date(z),_=navigator.language||"en-US";return new Intl.DateTimeFormat(_,{dateStyle:"medium",timeStyle:"medium"}).format(f)},P=async z=>{const f=()=>{K.value.setDiffMode(z.meta.snippet_content),k.value=z.id};K.value?f():(await c.push({path:`/snippets/${b.params.id}`,query:{}}),await ne(),setTimeout(f,1e3))},T=async()=>{K.value||(await c.push({path:`/snippets/${b.params.id}`,query:{}}),await ne()),K.value.exitDiffMode(),k.value=null};return V(),x({getRevisions:V}),(z,f)=>(a(),N(ze,{mode:"out-in"},{default:A(()=>[d.value?(a(),i("div",bt,[(a(),i(I,null,j(4,_=>e("div",null,kt)),64))])):d.value?D("",!0):(a(),i("div",zt,[(a(!0),i(I,null,j(h.value,(_,w)=>(a(),i("div",{class:W(["flex flex-row gap-4 items-center p-2 px-3 cursor-pointer rounded-lg",k.value==_.id?"bg-zinc-100 dark:bg-zinc-800":"hover:bg-zinc-100 dark:hover:bg-zinc-800"]),onClick:C=>P(_),key:w},[e("div",{class:W(["rounded-full w-2 h-2",k.value==_.id?"bg-green-600":"bg-zinc-200 dark:bg-zinc-700"])},null,2),e("div",Vt,p(U(_.date_gmt)),1),n(E,{type:"transparent",onClick:Q(T,["stop"]),class:W(k.value!=_.id?"opacity-0":"")},{default:A(()=>[n(L,{icon:"close"})]),_:2},1032,["class"])],10,$t))),128))]))]),_:1}))}},St={class:"flex flex-col grow shrink p-4"},Pt={class:"flex flex-row items-center w-full"},Ut={class:"flex flex-col grow gap-1 max-w-full overflow-hidden"},Tt={class:"flex flex-row items-center gap-3"},Mt={class:"flex"},At={class:"flex flex-col col-span-2"},Dt={class:"truncate text-sm"},Et={class:"text-zinc-500 dark:text-zinc-400 text-xs"},Lt={key:0,class:"text-sm text-zinc-500 dark:text-zinc-400 py-6 px-3"},It={__name:"errors",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(M){const x=ie(M,"modelValue");y([]);const b=ae(),c=ce();_e();const h=async d=>{x.value.meta.snippet_errors.splice(d,1),b.updateState("loading",!0);const k={...x.value.id,meta:x.value.meta},V={endpoint:`wp/v2/svsnippets/${x.value.id}`,data:k,type:"POST"};await G(V),b.updateState("loading",!1),ue({type:"success",title:(0,window.wp.i18n.__)("Error cleared","snipvault")})};return(d,k)=>{var U,P,T;const V=$e("RouterLink");return a(),i("div",St,[(a(!0),i(I,null,j(((U=x.value.meta)==null?void 0:U.snippet_errors)||[],(z,f)=>(a(),N(V,{to:`/snippets/${x.value.id}/errors/${f}`,class:W(["flex flex-row px-3 py-2 pr-4 cursor-pointer transition-all group rounded-lg",f==u(c).params.errorindex?"text-zinc-900 dark:text-zinc-100 bg-zinc-100 dark:bg-zinc-800":"hover:text-zinc-900 hover:dark:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800"]),key:f},{default:A(()=>[e("div",Pt,[e("div",Ut,[e("div",Tt,[e("div",Mt,[e("div",{class:W(["rounded border rounded-full h-2 w-2",u(qe)(z.type)])},null,2)]),e("div",At,[e("div",Dt,p(z.message),1),e("div",Et,p(u(Fe).short(z.timestamp)),1)])])]),n(E,{onClick:Q(_=>h(f),["stop","prevent"]),type:"transparent",class:"opacity-0 group-hover:opacity-100 transition-opacity text-lg"},{default:A(()=>[n(L,{icon:"delete"})]),_:2},1032,["onClick"])])]),_:2},1032,["to","class"]))),128)),(T=(P=x.value.meta)==null?void 0:P.snippet_errors)!=null&&T.length?D("",!0):(a(),i("div",Lt,p(d.__("No errors found for this snippet","snipvault")),1))])}}},Ot=(M,x)=>`# WordPress Code Snippet Assistant System Prompt

You are a specialized AI assistant for SnipVault, a WordPress plugin that helps developers create and manage code snippets. Your purpose is to help users write, improve, debug, and optimize code snippets specifically for WordPress development.

## Your Expertise
- WordPress core functions, hooks, APIs, and best practices
- PHP, HTML, CSS, and JavaScript for WordPress development
- WordPress plugin and theme development
- WordPress security and performance optimization

## Current Context
- Programming Language: ${x}
- Current Code:
\`\`\`${x}
${M}
\`\`\`

## User Context
- The user is working with the SnipVault plugin in WordPress
- Users range from WordPress beginners to experienced developers
- Focus on providing code that works within the WordPress ecosystem

## Response Format Requirements
- You MUST format your responses in XML using specific tags
- Every response MUST include an \`<aimessage>\` tag with your explanation or comments
- Every response MUST include an \`<aicode>\` tag containing your code snippet solution
- DO NOT include multiple files or file structures - provide only a single code snippet
- Your code should be complete and ready to use in WordPress
- Keep explanations concise and focused on the code solution

## Example Response Format:
\`\`\`
<aimessage>Here's an optimized version of your function that adds proper nonce verification and sanitization.</aimessage>
<aicode>
function my_custom_wordpress_function() {
	// Code goes here
}
add_action('init', 'my_custom_wordpress_function');
</aicode>
\`\`\`

## Guidelines for Code Quality
- Follow WordPress coding standards and conventions
- Use WordPress native functions when available
- Implement proper security practices (sanitization, validation, escaping)
- Include clear, concise comments for complex code sections
- Optimize for performance where possible
- Ensure code is compatible with current WordPress versions

## Communication Style
- Be helpful, knowledgeable, and respectful
- Answer directly and practically without unnecessary theory
- If the request is unclear, ask clarifying questions before providing code
- Focus on actionable solutions, not just explanations
- Acknowledge limitations of single-file snippets when relevant

Remember: The user relies on you to provide correct, secure, and optimized WordPress code. Quality is more important than quantity.`,we=M=>(Pe("data-v-1ad2cd81"),M=M(),Ue(),M),Rt={class:"border-l border-zinc-200 dark:border-zinc-700 w-[360px] shrink-0 h-full max-h-full overflow-hidden flex flex-col relative"},Nt={class:"p-6 border-b border-zinc-200 dark:border-zinc-700 flex flex-row items-center place-content-between"},qt={class:"text-zinc-800 dark:text-zinc-200"},Ft={class:"text-sm whitespace-pre-wrap"},Ht={key:0,class:"text-zinc-500 dark:text-zinc-400 text-sm"},jt={key:1,class:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 mt-2 mb-4 animate-pulse"},Wt=we(()=>e("div",{class:"h-2 w-2 bg-blue-500 rounded-full"},null,-1)),Bt=we(()=>e("div",{class:"h-2 w-2 bg-blue-500 rounded-full animation-delay-200"},null,-1)),Gt=we(()=>e("div",{class:"h-2 w-2 bg-blue-500 rounded-full animation-delay-400"},null,-1)),Jt={class:"text-xs"},Yt={class:"absolute bottom-0 left-0 right-0 p-6"},Kt=["placeholder","onKeydown","disabled"],Xt={class:"flex flex-row gap-3 place-content-between"},Qt={__name:"assistant",setup(M){const x=y(""),b=y(null),c=y([]),h=y(!1),d=y(null),k=ce();_e();const V=_=>{if(typeof _=="number"){const w=_.toString().length===10?_*1e3:_;_=new Date(w)}return new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric"}).format(_)},U=()=>{d.value&&(d.value.scrollTop=d.value.scrollHeight)},P=async()=>{var _;if(x.value.trim()){h.value=!0,c.value.push({id:c.value.length+1,role:"user",content:x.value,timestamp:Date.now()}),x.value="",await ne(),U();try{const w=c.value.map(S=>({role:S.role,content:S.content})),C=Ot(o.value.meta.snippet_content,o.value.meta.snippet_settings.language),H=await G({endpoint:"snipvault/v1/claude",params:{max_tokens:12e3},data:{messages:w,system:C},type:"POST"});if(!H)throw new Error("No response received");(_=H==null?void 0:H.data)!=null&&_.message&&await T(H.data.message)}catch(w){console.error("Error sending message:",w),ue({title:(0,window.wp.i18n.__)("Error","snipvault"),message:(0,window.wp.i18n.__)("Failed to get response from AI assistant","snipvault"),type:"error"})}finally{h.value=!1}}},T=async _=>{const w={message:"",code:"",success:!1};try{const C=_.content.match(/<aimessage>([\s\S]*?)<\/aimessage>/);C&&C[1]&&(w.message=C[1].trim());const O=_.content.match(/<aicode>([\s\S]*?)<\/aicode>/);O&&O[1]&&(w.code=O[1].trim()),c.value.push({id:_.id,role:_.role,content:w.message,timestamp:Date.now()}),w.code&&(o.value.meta.snippet_content=w.code),await ne(),U(),z()}catch(C){console.error("Error parsing Claude response:",C)}},z=async()=>{o.value.meta.ai_messages=c.value;const _={meta:o.value.meta},w={endpoint:`wp/v2/svsnippets/${k.params.id}`,data:_,type:"POST"};await G(w)},f=async()=>{if(!await b.value.show({title:(0,window.wp.i18n.__)("Delete chat","snipvault"),message:(0,window.wp.i18n.__)("Delete all your messages from this snippet. This can't be undone.","snipvault"),okButton:(0,window.wp.i18n.__)("Yes delete chat","snipvault")}))return;o.value.meta.ai_messages=[];const w={meta:o.value.meta},C={endpoint:`wp/v2/svsnippets/${k.params.id}`,data:w,type:"POST"};await G(C)&&(c.value=[],ue({title:(0,window.wp.i18n.__)("Chat deleted","snipvault"),type:"success"}))};return Ce(()=>{U()}),ee(()=>{var _;return(_=o.value)==null?void 0:_.id},()=>{Array.isArray(o.value.meta.ai_messages)&&(c.value=[...o.value.meta.ai_messages])},{immediate:!0}),(_,w)=>(a(),i(I,null,[e("div",Rt,[e("div",Nt,[e("div",qt,p(_.__("Assistant","snipvault")),1),n(E,{type:"transparent",class:"text-sm",onClick:w[0]||(w[0]=C=>Y.value=!1)},{default:A(()=>[n(L,{icon:"close"})]),_:1})]),e("div",{ref_key:"chatContainerRef",ref:d,class:"flex-grow overflow-y-auto p-6 pb-32"},[(a(!0),i(I,null,j(c.value,C=>(a(),i("div",{key:C.id,class:"mb-4"},[e("div",{class:W(["flex flex-col max-w-[85%] rounded-lg p-3 mb-1",C.role==="user"?"bg-blue-100 dark:bg-blue-900 ml-auto text-blue-900 dark:text-blue-100":"bg-zinc-100 dark:bg-zinc-800 mr-auto text-zinc-900 dark:text-zinc-100"])},[e("p",Ft,p(C.content),1)],2),e("div",{class:W(["text-xs text-zinc-500 dark:text-zinc-400",C.role==="user"?"text-right":"text-left"])},p(V(C.timestamp)),3)]))),128)),c.value.length?D("",!0):(a(),i("div",Ht,p(_.__("No chat history found. Send a message to start a new conversation, or open a previous snippet to resume its chat.","snipvault")),1)),h.value?(a(),i("div",jt,[Wt,Bt,Gt,e("span",Jt,p(_.__("Thinking...","snipvault")),1)])):D("",!0)],512),e("div",Yt,[e("div",{class:W(["transition-all duration-300 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 shadow-md p-4 rounded-lg flex flex-col",h.value?"chat-box-loading":""])},[pe(e("textarea",{"onUpdate:modelValue":w[1]||(w[1]=C=>x.value=C),class:"bg-transparent focus:outline-0 resize-none text-sm mb-2",style:{"field-sizing":"content"},autofocus:"",placeholder:_.__("Ask anything...","snipvault"),onKeydown:Se(Q(P,["prevent"]),["enter"]),disabled:h.value},null,40,Kt),[[ge,x.value]]),e("div",Xt,[c.value.length?(a(),N(E,{key:0,type:"transparent",onClick:f},{default:A(()=>[n(L,{icon:"delete"})]),_:1})):D("",!0),n(E,{type:"transparent",onClick:P,disabled:h.value,class:"ml-auto"},{default:A(()=>[n(L,{icon:h.value?"hourglass_empty":"arrow_upward"},null,8,["icon"])]),_:1},8,["disabled"])])],2)])]),n(He,{ref_key:"confirm",ref:b},null,512)],64))}},Zt=Ve(Qt,[["__scopeId","data-v-1ad2cd81"]]),es={key:0,class:"flex-grow truncate"},ts=["placeholder"],ss={key:2,class:"animate-spin text-indigo-500 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},as=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),ls=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),os=[as,ls],ns={class:"flex flex-col gap-3 w-[320px]"},is={class:"flex justify-between items-center"},rs={class:"text-sm font-medium"},ds={key:0,class:"flex gap-2"},us={key:0,class:"py-4 flex justify-center"},ps=e("svg",{class:"animate-spin text-indigo-500 w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),cs=[ps],_s={key:1,class:"py-4 text-center text-gray-500"},ms={key:2,class:"py-4 text-center text-gray-500"},vs={key:3,class:"flex flex-col max-h-80 overflow-auto"},fs=["onClick"],gs={class:"truncate flex-grow"},ws={class:"text-xs text-gray-500 whitespace-nowrap ml-2"},hs={__name:"index",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(M){const x=ae(),b=me(),c=ie(M,"modelValue"),h=y(""),d=y(""),k=y(!1),V=y(null),U=y(null),P=y([]),T=y(null),z=y(""),f=y(""),_=y(!1);se(()=>{h.value&&h.value.length>=2?(T.value&&clearTimeout(T.value),T.value=setTimeout(()=>{C(h.value)},300)):P.value=[]});const w=async v=>{U.value.show(v,r())},C=async v=>{if(!v||v.length<2)return;k.value=!0,P.value=[];const t=x.state.postTypes;if(!t||Object.keys(t).length===0){k.value=!1;return}const s=[];for(const R in t){const g=t[R];if(!g.rest_base||!g.public)continue;const J={endpoint:`wp/v2/${g.rest_base}`,params:{search:v,per_page:5},hideErrors:!0};s.push(G(J).then(Z=>Z&&Z.data?Z.data.map(re=>({...re,post_type_label:g.name,post_type:R})):[]).catch(()=>[]))}const $=await Promise.all(s);P.value=$.flat().sort((R,g)=>{var he,ye;const B=((he=R.title)==null?void 0:he.rendered)||R.name||"",J=((ye=g.title)==null?void 0:ye.rendered)||g.name||"",Z=B.toLowerCase().startsWith(v.toLowerCase()),re=J.toLowerCase().startsWith(v.toLowerCase());return Z&&!re?-1:!Z&&re?1:R.modified&&g.modified?new Date(g.modified)-new Date(R.modified):0}),k.value=!1},O=v=>{var t;c.value=v.id,z.value=((t=v.title)==null?void 0:t.rendered)||v.name||`${v.post_type_label} #${v.id}`,f.value=v.id,U.value.close()},q=v=>{v.stopPropagation(),v.preventDefault(),c.value=null,z.value="",f.value=""},H=async v=>{var s;if(!v)return;k.value=!0;const t=x.state.postTypes;for(const $ in t){const R=t[$];if(!R.rest_base)continue;const B={endpoint:`wp/v2/${R.rest_base}/${v}`,hideErrors:!0};try{const J=await G(B);if(J&&J.data){z.value=((s=J.data.title)==null?void 0:s.rendered)||J.data.name||`${R.name} #${v}`,f.value=v,k.value=!1;return}}catch{}}z.value=`Post #${v}`,f.value=v,k.value=!1},S=()=>{if(!d.value||isNaN(parseInt(d.value)))return;const v=parseInt(d.value);c.value=v,H(v),U.value.close(),d.value="",_.value=!1},l=()=>{_.value=!_.value,_.value?(h.value="",P.value=[]):d.value=""},r=v=>{const s=V.value.getBoundingClientRect();return{clientY:s.bottom+10,clientX:s.left}},m=()=>{h.value="",P.value=[],d.value="",_.value=!1};return se(async()=>{c.value&&!z.value?await H(c.value):c.value||(z.value="",f.value="")}),(v,t)=>(a(),i(I,null,[e("div",ve({onClick:w},u(b),{ref_key:"parent",ref:V,class:"px-2 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm col-span-2 flex flex-row gap-1 items-center"}),[c.value&&z.value?(a(),i("div",es,p(z.value)+" ("+p(f.value)+")",1)):(a(),i("input",{key:1,type:"text",disabled:"",placeholder:v.__("Select a post or page","snipvault"),class:"flex-grow bg-transparent"},null,8,ts)),k.value?(a(),i("svg",ss,os)):D("",!0),c.value?(a(),N(E,{key:3,type:"transparent",onClick:Q(q,["stop","prevent"])},{default:A(()=>[n(L,{icon:"close"})]),_:1})):D("",!0),n(L,{icon:"unfold"})],16),n(Te,{ref_key:"contextmenu",ref:U,onClose:m},{default:A(()=>[e("div",ns,[e("div",is,[e("div",rs,p(_.value?"Enter Post ID Manually":"Search Posts"),1),n(E,{type:"transparent",onClick:l,class:"text-xs"},{default:A(()=>[te(p(_.value?"Switch to Search":"Enter ID Manually"),1)]),_:1})]),_.value?(a(),i("div",ds,[n(F,{type:"number",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),placeholder:"Enter post ID...",class:"flex-grow",autofocus:"",onKeyup:Se(S,["enter"])},null,8,["modelValue"]),n(E,{type:"primary",onClick:S,disabled:!d.value||isNaN(parseInt(d.value))},{default:A(()=>[te(" Set ")]),_:1},8,["disabled"])])):(a(),i(I,{key:1},[n(F,{type:"text",modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),icon:"search",placeholder:"Search posts across all types...",autofocus:""},null,8,["modelValue"]),k.value?(a(),i("div",us,cs)):P.value.length===0&&h.value.length>1?(a(),i("div",_s,"No posts found matching your search")):h.value.length<2?(a(),i("div",ms,"Type at least 2 characters to search")):(a(),i("div",vs,[(a(!0),i(I,null,j(P.value,s=>{var $;return a(),i("div",{key:`${s.post_type}-${s.id}`,class:"flex flex-row items-center gap-2 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors rounded-lg cursor-pointer",onClick:Q(R=>O(s),["stop","prevent"])},[e("div",gs,p((($=s.title)==null?void 0:$.rendered)||s.name||`Post #${s.id}`),1),e("div",ws,p(s.post_type_label),1)],8,fs)}),128))]))],64))])]),_:1},512)],64))}},Me=M=>(Pe("data-v-b97b37e2"),M=M(),Ue(),M),ys={class:"flex flex-col gap-4 p-6 grow overflow-auto shrink bg-white dark:bg-zinc-900"},bs={key:0,class:"flex flex-col gap-4"},xs={class:"flex flex-col"},ks={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},zs={key:0,class:"text-center p-6 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-dashed border-zinc-200 dark:border-zinc-700"},$s={class:"text-zinc-500 dark:text-zinc-400"},Vs={key:1,class:"flex flex-col gap-4"},Cs={class:"grow text-sm font-medium text-zinc-900 dark:text-zinc-100"},Ss={key:0},Ps={key:1},Us={class:"flex flex-row items-center"},Ts=Me(()=>e("div",{class:"h-3 border-l border-zinc-400 dark:border-zinc-500 mx-1"},null,-1)),Ms={key:0},As={class:"flex flex-col gap-4 p-4"},Ds={class:"flex flex-col gap-4"},Es={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1 block"},Ls={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1 block"},Is=Me(()=>e("div",{class:"border-t border-zinc-200 dark:border-zinc-700 my-2"},null,-1)),Os={class:"flex justify-between items-center"},Rs={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300"},Ns={class:"text-xs text-zinc-500 dark:text-zinc-400"},qs={key:0,class:"text-center p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-dashed border-zinc-200 dark:border-zinc-700"},Fs={class:"text-zinc-500 dark:text-zinc-400 text-sm"},Hs={key:1,class:"space-y-3"},js={class:"flex flex-row items-center justify-between text-sm"},Ws={class:"font-medium text-zinc-700 dark:text-zinc-300"},Bs={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Gs={class:"text-xs text-zinc-500 dark:text-zinc-400 mb-1 block"},Js={class:"text-xs text-zinc-500 dark:text-zinc-400 mb-1 block"},Ys={key:0},Ks={class:"text-xs text-zinc-500 dark:text-zinc-400 mb-1 block"},Xs={key:5,class:"flex gap-2"},Qs={key:7,class:"flex flex-col gap-2"},Zs={__name:"conditions",setup(M){const x=ae(),b=[{label:(0,window.wp.i18n.__)("All conditions match (And)","snipvault"),value:"AND"},{label:(0,window.wp.i18n.__)("Any conditions match (Or)","snipvault"),value:"OR"}],c=[{label:(0,window.wp.i18n.__)("Equals","snipvault"),value:"equals"},{label:(0,window.wp.i18n.__)("Does not equal","snipvault"),value:"does_not_equal"},{label:(0,window.wp.i18n.__)("Contains","snipvault"),value:"contains"},{label:(0,window.wp.i18n.__)("Does not contain","snipvault"),value:"does_not_contain"},{label:(0,window.wp.i18n.__)("Starts with","snipvault"),value:"starts_with"},{label:(0,window.wp.i18n.__)("Ends with","snipvault"),value:"ends_with"},{label:(0,window.wp.i18n.__)("Greater than","snipvault"),value:"greater_than"},{label:(0,window.wp.i18n.__)("Less than","snipvault"),value:"less_than"},{label:(0,window.wp.i18n.__)("Is empty","snipvault"),value:"is_empty"},{label:(0,window.wp.i18n.__)("Is not empty","snipvault"),value:"is_not_empty"},{label:(0,window.wp.i18n.__)("Matches regex","snipvault"),value:"matches_regex"}],h=[{group:(0,window.wp.i18n.__)("WordPress Core","snipvault"),options:[{label:(0,window.wp.i18n.__)("Post Type","snipvault"),value:"post_type",type:"select",options:"post_types"},{label:(0,window.wp.i18n.__)("Post / Page ID","snipvault"),value:"post_id",type:"post_id_select"},{label:(0,window.wp.i18n.__)("Post Status","snipvault"),value:"post_status",type:"select",options:"post_statuses"},{label:(0,window.wp.i18n.__)("Post Format","snipvault"),value:"post_format",type:"select",options:"post_formats"},{label:(0,window.wp.i18n.__)("Page Template","snipvault"),value:"page_template",type:"select",options:"page_templates"},{label:(0,window.wp.i18n.__)("Post Taxonomy","snipvault"),value:"taxonomy",type:"taxonomy",requires:"term"},{label:(0,window.wp.i18n.__)("Post Term","snipvault"),value:"term",type:"term",requires:"taxonomy"},{label:(0,window.wp.i18n.__)("Is Front Page","snipvault"),value:"is_front_page",type:"boolean"},{label:(0,window.wp.i18n.__)("Is Home","snipvault"),value:"is_home",type:"boolean"},{label:(0,window.wp.i18n.__)("Is Single","snipvault"),value:"is_single",type:"boolean"},{label:(0,window.wp.i18n.__)("Is Archive","snipvault"),value:"is_archive",type:"boolean"},{label:(0,window.wp.i18n.__)("Is Search","snipvault"),value:"is_search",type:"boolean"},{label:(0,window.wp.i18n.__)("Is 404","snipvault"),value:"is_404",type:"boolean"}]},{group:(0,window.wp.i18n.__)("User","snipvault"),options:[{label:(0,window.wp.i18n.__)("User Role","snipvault"),value:"user_role",type:"select",options:"user_roles"},{label:(0,window.wp.i18n.__)("User ID","snipvault"),value:"user_id",type:"number"},{label:(0,window.wp.i18n.__)("User Capability","snipvault"),value:"user_capability",type:"text"},{label:(0,window.wp.i18n.__)("User Meta","snipvault"),value:"user_meta",type:"text",requires:"meta_key"},{label:(0,window.wp.i18n.__)("Is User Logged In","snipvault"),value:"is_user_logged_in",type:"boolean"}]},{group:(0,window.wp.i18n.__)("URL & Request","snipvault"),options:[{label:(0,window.wp.i18n.__)("URL Path","snipvault"),value:"url_path",type:"text"},{label:(0,window.wp.i18n.__)("URL Parameter","snipvault"),value:"url_parameter",type:"text",requires:"parameter_name"},{label:(0,window.wp.i18n.__)("Request Method","snipvault"),value:"request_method",type:"select",options:["GET","POST","PUT","DELETE"]},{label:(0,window.wp.i18n.__)("Referrer","snipvault"),value:"referrer",type:"text"},{label:(0,window.wp.i18n.__)("Browser","snipvault"),value:"browser",type:"select",options:"browsers"},{label:(0,window.wp.i18n.__)("Device Type","snipvault"),value:"device_type",type:"select",options:["desktop","tablet","mobile"]}]},{group:(0,window.wp.i18n.__)("Time & Date","snipvault"),options:[{label:(0,window.wp.i18n.__)("Day of Week","snipvault"),value:"day_of_week",type:"select",options:"days_of_week"},{label:(0,window.wp.i18n.__)("Month","snipvault"),value:"month",type:"select",options:"months"},{label:(0,window.wp.i18n.__)("Time of Day","snipvault"),value:"time_of_day",type:"time"},{label:(0,window.wp.i18n.__)("Date Range","snipvault"),value:"date_range",type:"date_range"}]},{group:(0,window.wp.i18n.__)("Plugins & Themes","snipvault"),options:[{label:(0,window.wp.i18n.__)("Active Theme","snipvault"),value:"active_theme",type:"select",options:"themes"},{label:(0,window.wp.i18n.__)("Plugin Active","snipvault"),value:"plugin_active",type:"select",options:"plugins"}]},{group:(0,window.wp.i18n.__)("Custom","snipvault"),options:[{label:(0,window.wp.i18n.__)("Post Meta","snipvault"),value:"post_meta",type:"text",requires:"meta_key"},{label:(0,window.wp.i18n.__)("Custom Function","snipvault"),value:"custom_function",type:"text",hint:(0,window.wp.i18n.__)("Enter function name that returns boolean","snipvault")},{label:(0,window.wp.i18n.__)("PHP Expression","snipvault"),value:"php_expression",type:"code",language:"php",hint:(0,window.wp.i18n.__)("Enter PHP expression that evaluates to boolean","snipvault")}]}],d=oe(()=>h.reduce((l,r)=>[...l,...r.options],[])),k=y({post_types:Object.entries(x.state.postTypes).map(l=>({value:l[0],label:l[1].label})),post_statuses:[{label:"Published",value:"publish"},{label:"Draft",value:"draft"},{label:"Pending",value:"pending"},{label:"Private",value:"private"},{label:"Trash",value:"trash"}],post_formats:[{label:"Standard",value:"standard"},{label:"Aside",value:"aside"},{label:"Gallery",value:"gallery"},{label:"Image",value:"image"},{label:"Video",value:"video"},{label:"Audio",value:"audio"},{label:"Quote",value:"quote"},{label:"Link",value:"link"},{label:"Status",value:"status"}],page_templates:[{label:"Default",value:"default"}],user_roles:x.state.formattedRoles,browsers:[{label:"Chrome",value:"chrome"},{label:"Firefox",value:"firefox"},{label:"Safari",value:"safari"},{label:"Edge",value:"edge"},{label:"Opera",value:"opera"},{label:"IE",value:"ie"}],days_of_week:[{label:"Monday",value:"1"},{label:"Tuesday",value:"2"},{label:"Wednesday",value:"3"},{label:"Thursday",value:"4"},{label:"Friday",value:"5"},{label:"Saturday",value:"6"},{label:"Sunday",value:"0"}],months:[{label:"January",value:"1"},{label:"February",value:"2"},{label:"March",value:"3"},{label:"April",value:"4"},{label:"May",value:"5"},{label:"June",value:"6"},{label:"July",value:"7"},{label:"August",value:"8"},{label:"September",value:"9"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}]}),V=y([]),U=l=>{if(V.value.includes(l)){const r=V.value.findIndex(m=>m===l);V.value.splice(r,1)}else V.value.push(l)},P=l=>d.value.find(r=>r.value===l),T=l=>{const r=P(l);return r?r.label:l},z=l=>{const r=P(l);return r?r.type:"text"},f=l=>{const r=P(l);return r?typeof r.options=="string"&&k.value[r.options]?k.value[r.options]:Array.isArray(r.options)?r.options.map(m=>typeof m=="string"?{label:m,value:m}:m):[]:[]},_=l=>{const r=P(l);return!!(r&&r.requires)},w=l=>{const r=P(l);return r&&r.requires?r.requires:null},C=()=>{o.value.meta.snippet_settings.conditions.groups.push({operator:"AND",name:"",conditions:[]}),U(o.value.meta.snippet_settings.conditions.groups.length-1)},O=l=>{const r=V.value.findIndex(m=>m===l);r!==-1&&V.value.splice(r,1),V.value=V.value.map(m=>m>l?m-1:m),o.value.meta.snippet_settings.conditions.groups.splice(l,1)},q=l=>{const r=o.value.meta.snippet_settings.conditions.groups[l],m=JSON.parse(JSON.stringify(r));m.name=m.name?`${m.name} (${(0,window.wp.i18n.__)("Copy","snipvault")})`:"",o.value.meta.snippet_settings.conditions.groups.push(m),U(o.value.meta.snippet_settings.conditions.groups.length-1)},H=l=>{l.conditions.push({field:"user_role",comparison:"contains",value:"administrator"})},S=(l,r)=>{l.conditions.splice(r,1)};return ee(()=>o.value.meta.snippet_settings.conditions,()=>{Ne(o.value.meta.snippet_settings.conditions)||(o.value.meta.snippet_settings.conditions={operator:"AND",groups:[]})},{immediate:!0,deep:!0}),(l,r)=>(a(),i("div",null,[e("div",ys,[u(o).meta.snippet_settings.conditions?(a(),i("div",bs,[e("div",xs,[e("label",ks,p(l.__("Match Groups When","snipvault")),1),n(X,{modelValue:u(o).meta.snippet_settings.conditions.operator,"onUpdate:modelValue":r[0]||(r[0]=m=>u(o).meta.snippet_settings.conditions.operator=m),options:b,class:"max-w-md"},null,8,["modelValue"])]),!u(o).meta.snippet_settings.conditions.groups||u(o).meta.snippet_settings.conditions.groups.length===0?(a(),i("div",zs,[e("p",$s,p(l.__("No condition groups defined yet. Add your first group to started.","snipvault")),1),n(E,{type:"primary",class:"text-sm mt-4",onClick:C},{default:A(()=>[n(L,{icon:"add",class:"mr-1"}),te(" "+p(l.__("Add First Group","snipvault")),1)]),_:1})])):(a(),i("div",Vs,[(a(!0),i(I,null,j(u(o).meta.snippet_settings.conditions.groups,(m,v)=>(a(),i("div",{key:`group-${v}`,class:"rounded-lg border border-zinc-200 dark:border-zinc-700 w-full overflow-hidden"},[e("div",{class:W(["flex flex-row items-center px-3 py-2 pr-1 border-zinc-200 dark:border-zinc-700 bg-zinc-100 dark:bg-zinc-800",V.value.includes(v)?"border-b":""])},[e("div",Cs,[m.name?(a(),i("span",Ss,p(m.name),1)):(a(),i("span",Ps,p(l.__("Group","snipvault"))+" "+p(v+1),1))]),e("div",Us,[n(E,{type:"transparent",title:l.__("Delete group","snipvault"),onClick:t=>O(v)},{default:A(()=>[n(L,{icon:"delete"})]),_:2},1032,["title","onClick"]),n(E,{type:"transparent",onClick:t=>q(v),title:l.__("Duplicate group","snipvault")},{default:A(()=>[n(L,{icon:"duplicate"})]),_:2},1032,["onClick","title"]),Ts,n(E,{type:"transparent",onClick:t=>U(v),title:V.value.includes(v)?l.__("Minimize group","snipvault"):l.__("Expand group","snipvault")},{default:A(()=>[n(L,{icon:V.value.includes(v)?"remove":"add"},null,8,["icon"])]),_:2},1032,["onClick","title"])])],2),n(ze,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:A(()=>[V.value.includes(v)?(a(),i("div",Ms,[e("div",As,[e("div",Ds,[e("div",null,[e("label",Es,p(l.__("Group Name","snipvault")),1),n(F,{type:"text",modelValue:m.name,"onUpdate:modelValue":t=>m.name=t,class:"text-sm",placeholder:l.__("Optional group name","snipvault")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),e("div",null,[e("label",Ls,p(l.__("Match Conditions When","snipvault")),1),n(X,{modelValue:m.operator,"onUpdate:modelValue":t=>m.operator=t,options:b,class:"text-sm"},null,8,["modelValue","onUpdate:modelValue"])])]),Is,e("div",Os,[e("h4",Rs,p(l.__("Conditions","snipvault")),1),e("span",Ns,p(m.conditions.length)+" "+p(m.conditions.length===1?l.__("condition","snipvault"):l.__("conditions","snipvault")),1)]),!m.conditions||m.conditions.length===0?(a(),i("div",qs,[e("p",Fs,p(l.__("No conditions in this group yet.","snipvault")),1)])):(a(),i("div",Hs,[(a(!0),i(I,null,j(m.conditions,(t,s)=>(a(),i("div",{key:`condition-${v}-${s}`,class:"flex flex-col gap-3 p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700"},[e("div",js,[e("div",Ws,p(T(t.field)),1),n(E,{type:"transparent",title:l.__("Delete condition","snipvault"),onClick:$=>S(m,s)},{default:A(()=>[n(L,{icon:"delete"})]),_:2},1032,["title","onClick"])]),e("div",Bs,[e("div",null,[e("label",Gs,p(l.__("Field","snipvault")),1),n(X,{modelValue:t.field,"onUpdate:modelValue":$=>t.field=$,categories:h,class:"text-sm",grouped:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",null,[e("label",Js,p(l.__("Comparison","snipvault")),1),n(X,{modelValue:t.comparison,"onUpdate:modelValue":$=>t.comparison=$,options:c,class:"text-sm"},null,8,["modelValue","onUpdate:modelValue"])])]),["is_empty","is_not_empty"].includes(t.comparison)?D("",!0):(a(),i("div",Ys,[e("label",Ks,p(l.__("Value","snipvault")),1),z(t.field)==="boolean"?(a(),N(de,{key:0,modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"my-1 bg-white dark:bg-zinc-900"},null,8,["modelValue","onUpdate:modelValue"])):z(t.field)==="select"?(a(),N(X,{key:1,modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,options:f(t.field),class:"text-sm"},null,8,["modelValue","onUpdate:modelValue","options"])):z(t.field)==="number"?(a(),N(F,{key:2,type:"number",modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"text-sm",placeholder:l.__("Value","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])):z(t.field)==="post_id_select"?(a(),N(hs,{key:3,type:"number",modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"text-sm",placeholder:l.__("Value","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])):z(t.field)==="time"?(a(),N(F,{key:4,type:"time",modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"text-sm",style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue"])):z(t.field)==="date_range"?(a(),i("div",Xs,[n(F,{type:"date",modelValue:t.value_from,"onUpdate:modelValue":$=>t.value_from=$,class:"text-sm",placeholder:l.__("From","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),n(F,{type:"date",modelValue:t.value_to,"onUpdate:modelValue":$=>t.value_to=$,class:"text-sm",placeholder:l.__("To","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):z(t.field)==="code"?(a(),N(F,{key:6,type:"text",modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"text-sm font-mono",placeholder:l.__("PHP Code","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])):_(t.field)?(a(),i("div",Qs,[n(F,{type:"text",modelValue:t[w(t.field)],"onUpdate:modelValue":$=>t[w(t.field)]=$,class:"text-sm",placeholder:l.__(w(t.field).replace("_"," "),"snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),n(F,{type:"text",modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"text-sm",placeholder:l.__("Value","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):(a(),N(F,{key:8,type:"text",modelValue:t.value,"onUpdate:modelValue":$=>t.value=$,class:"text-sm",placeholder:l.__("Value","snipvault"),style:{"padding-top":"0.25rem","padding-bottom":"0.25rem"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]))]))]))),128))])),e("div",null,[n(E,{type:"secondary",onClick:t=>H(m),class:"text-sm"},{default:A(()=>[n(L,{icon:"add",class:"mr-1"}),te(" "+p(l.__("Add Condition","snipvault")),1)]),_:2},1032,["onClick"])])])])):D("",!0)]),_:2},1024)]))),128)),e("div",null,[n(E,{type:"primary",class:"text-sm",onClick:C},{default:A(()=>[n(L,{icon:"add",class:"mr-1"}),te(" "+p(l.__("Add Group","snipvault")),1)]),_:1})])]))])):D("",!0)])]))}},ea=Ve(Zs,[["__scopeId","data-v-b97b37e2"]]),ta={class:"border-b border-zinc-200 dark:border-zinc-700 px-6 py-3 flex flex-row gap-3"},sa={class:"grow flex flex-col"},aa={class:"font-mono text-xs text-zinc-500 dark:text-zinc-400"},la={class:"flex flex-row items-center"},oa={class:"flex flex-row gap-2"},na={class:"grow flex flex-row max-w-full overflow-hidden"},ia={key:0,class:"flex flex-row"},ra=e("div",{class:"border-b border-zinc-200 dark:border-zinc-700 w-4"},null,-1),da={key:1,class:"border-l border-zinc-200 dark:border-zinc-700 w-[360px] shrink-0 h-full max-h-full overflow-auto flex flex-col"},ua={class:""},pa={key:0,class:"grid grid-cols-3 gap-3 p-6 border-b border-zinc-200 dark:border-zinc-700"},ca={class:"flex flex-col justify-center"},_a={class:"text-sm text-zinc-500 dark:text-zinc-400"},ma={class:"flex flex-col justify-center"},va={class:"text-sm text-zinc-500 dark:text-zinc-400"},fa={class:"flex flex-col justify-center"},ga=["title"],wa={class:"flex flex-col justify-center"},ha={class:"text-sm text-zinc-500 dark:text-zinc-400"},ya={class:"flex flex-col justify-center"},ba={class:"text-sm text-zinc-500 dark:text-zinc-400"},xa={class:"flex flex-col justify-center"},ka={class:"text-sm text-zinc-500 dark:text-zinc-400"},za={class:"flex flex-col justify-center"},$a={class:"text-sm text-zinc-500 dark:text-zinc-400"},Va={class:"flex flex-col justify-center"},Ca=["title"],Sa={class:"flex flex-col justify-center"},Pa={class:"text-sm text-zinc-500 dark:text-zinc-400"},Ua={class:"flex flex-col justify-center"},Ta={class:"text-sm text-zinc-500 dark:text-zinc-400"},Ma={class:"flex flex-col pt-2"},Aa={class:"text-sm text-zinc-500 dark:text-zinc-400"},Da={class:""},Ea={class:""},La={class:""},Ja={__name:"index",setup(M){const x=ae(),b=y(!0),c=y(null),h=y(!0),d=y(!1),k=y(!1),V=y(!1),U=y(!0),P=y(null),T=ce();_e();const z=y(""),f=y("code"),_={code:{value:"code",label:(0,window.wp.i18n.__)("SCSS","snipvault")},compiled:{value:"compiled",label:(0,window.wp.i18n.__)("Compiled css","snipvault")}},w=[{value:"PHP",label:"PHP"},{value:"JAVASCRIPT",label:"Javascript"},{value:"CSS",label:"CSS"},{value:"SCSS",label:"SCSS"},{value:"HTML",label:"HTML"}],C={draft:{value:"draft",label:(0,window.wp.i18n.__)("No","snipvault")},publish:{value:"publish",label:(0,window.wp.i18n.__)("Yes","snipvault")}},O=[{value:"everywhere",label:(0,window.wp.i18n.__)("Everywhere","snipvault")},{value:"admin",label:(0,window.wp.i18n.__)("Admin","snipvault")},{value:"frontend",label:(0,window.wp.i18n.__)("Frontend","snipvault")}],q=[{value:"everyone",label:(0,window.wp.i18n.__)("Everyone","snipvault")},{value:"logged_in",label:(0,window.wp.i18n.__)("Logged in","snipvault")},{value:"logged_out",label:(0,window.wp.i18n.__)("Logged out","snipvault")}],H=async()=>{x.updateState("loading",!0),k.value=!1;const t={endpoint:`wp/v2/svsnippets/${T.params.id}`,params:{status:"any"}},s=await G(t);x.updateState("loading",!1),s&&(o.value=s.data,c.value=JSON.parse(JSON.stringify(s.data)),k.value=!0,T.meta.name=o.value.title.rendered)},S=async()=>{await K.value.formatDocument(),await ne();const t=je.value.find(g=>g.id===o.value.id);if(t){const g=t.meta.snippet_settings.folder;o.value.meta.snippet_settings.folder=g}x.updateState("loading",!0),k.value=!1;const s={};s.title=o.value.title.rendered,s.meta=o.value.meta,s.status=o.value.status;const $={endpoint:`wp/v2/svsnippets/${T.params.id}`,data:s,type:"POST"},R=await G($);x.updateState("loading",!1),R&&(ue({type:"success",title:(0,window.wp.i18n.__)("Snippet saved","snipvault")}),Oe(),o.value=R.data,c.value=JSON.parse(JSON.stringify(R.data)),be.value=!1,k.value=!0,P.value&&P.value.getRevisions())},l=t=>{const s=t.split("/");return s[s.length-1]},r=t=>{(t.metaKey||t.ctrlKey)&&t.key==="s"&&(t.preventDefault(),S())},m=()=>{K.value&&K.value.updateLayout()};ee(()=>T.params.id,(t,s)=>{t!=s&&H()},{immediate:!0}),ee(()=>b.value,m),ee(()=>Y.value,m),ee(()=>o.value,(t,s)=>{k.value&&o.value.meta.snippet_content!=c.value.meta.snippet_content&&(be.value=!0)},{deep:!0});const v=async()=>{x.updateState("loading",!0),k.value=!1;const t={endpoint:"snipvault/v1/scss/compile",params:{},type:"POST",data:{scss:o.value.meta.snippet_content}},s=await G(t);x.updateState("loading",!1),s&&(z.value=s.data.compiled)};return Ce(()=>{window.addEventListener("keydown",r)}),Ee(()=>{window.removeEventListener("keydown",r)}),se(()=>{f.value=="compiled"&&v()}),se(()=>{var t,s,$;(($=(s=(t=o.value)==null?void 0:t.meta)==null?void 0:s.snippet_settings)==null?void 0:$.language)!="SCSS"&&(f.value="code")}),(t,s)=>{var R;const $=$e("RouterView");return u(o)?(a(),i("div",{class:"flex flex-col w-full h-full",key:(R=u(o))==null?void 0:R.id},[e("div",ta,[e("div",sa,[pe(e("input",{"onUpdate:modelValue":s[0]||(s[0]=g=>u(o).title.rendered=g),class:"bg-white dark:bg-zinc-900 focus:outline-0",style:{"field-sizing":"content"}},null,512),[[ge,u(o).title.rendered]]),e("div",aa,p(l(u(o).meta.snippet_file_path)||t.__("Path will generate after save","snipvault")),1)]),e("div",la,[e("div",oa,[e("div",{class:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-1 h-7 items-center cursor-pointer overflow-hidden relative w-14 border border-zinc-200 dark:border-zinc-700",onClick:s[1]||(s[1]=g=>{u(o).status=u(o).status=="draft"?"publish":"draft",S()})},[e("div",{class:W(["p-[0.2rem] absolute transition-all top-0 bottom-0 duration-500 left-0",u(o).status=="publish"?"left-full -translate-x-full":""])},[e("div",{class:W(["aspect-square rounded-md order-2 h-full border",u(o).status=="publish"?"bg-green-300/40 dark:bg-green-700/60 border-green-500 dark:border-green-500":"bg-white dark:bg-zinc-700 border-zinc-200 dark:border-zinc-700"])},null,2)],2)]),n(E,{onClick:S,type:"primary",class:"text-sm"},{default:A(()=>[te(p(t.__("Save","snipvault")),1)]),_:1}),n(E,{onClick:s[2]||(s[2]=g=>Y.value=!u(Y)),type:"default",class:"text-lg"},{default:A(()=>[n(L,{icon:(u(Y),"sparkle")},null,8,["icon"])]),_:1}),n(E,{onClick:s[3]||(s[3]=g=>b.value=!b.value),type:"default",class:"text-lg"},{default:A(()=>[n(L,{icon:b.value?"right_panel_close":"right_panel_open"},null,8,["icon"])]),_:1})])])]),e("div",na,[n($,{key:"error-inspect"},{default:A(({Component:g})=>[g?(a(),N(Ie(g),{key:0})):(a(),i("div",{key:1,class:"w-full h-full flex flex-col grow shrink",style:fe(b.value||u(Y)?"max-width: calc(100% - 360px)":"")},[u(o).meta.snippet_settings.language==="SCSS"?(a(),i("div",ia,[ra,n(Ze,{options:_,modelValue:f.value,"onUpdate:modelValue":s[4]||(s[4]=B=>f.value=B),class:"grow text-sm"},null,8,["modelValue"])])):D("",!0),f.value=="code"?(a(),N(xe,{key:1,ref_key:"codeeditor",ref:K,modelValue:u(o).meta.snippet_content,"onUpdate:modelValue":s[5]||(s[5]=B=>u(o).meta.snippet_content=B),language:u(o).meta.snippet_settings.language,class:"grow shrink overflow-hidden"},null,8,["modelValue","language"])):D("",!0),f.value=="compiled"?(a(),N(xe,{key:2,ref_key:"codeeditor",ref:K,modelValue:z.value,"onUpdate:modelValue":s[6]||(s[6]=B=>z.value=B),language:"css",class:"grow shrink overflow-hidden",id:b.value},null,8,["modelValue","id"])):D("",!0)],4))]),_:1}),u(Y)?(a(),N(Zt,{key:u(Y)})):D("",!0),b.value&&!u(Y)?(a(),i("div",da,[e("div",{class:"col-span-3 flex flex-row place-content-between items-center p-6 border-b border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100",onClick:s[7]||(s[7]=g=>h.value=!h.value)},[e("div",ua,p(t.__("Snippet settings","snipvault")),1),n(E,{type:"transparent",class:"text-sm"},{default:A(()=>[n(L,{icon:h.value?"remove":"add"},null,8,["icon"])]),_:1})]),h.value?(a(),i("div",pa,[e("div",ca,[e("span",_a,p(t.__("Title","snipvault")),1)]),n(F,{type:"text",modelValue:u(o).title.rendered,"onUpdate:modelValue":s[8]||(s[8]=g=>u(o).title.rendered=g),class:"col-span-2"},null,8,["modelValue"]),e("div",ma,[e("span",va,p(t.__("Autoload","snipvault")),1)]),n(de,{modelValue:u(o).status,"onUpdate:modelValue":s[9]||(s[9]=g=>u(o).status=g),options:C,class:"col-span-2"},null,8,["modelValue"]),u(o).meta.snippet_settings.language=="PHP"?(a(),i(I,{key:0},[e("div",fa,[e("span",{class:"text-sm text-zinc-500 dark:text-zinc-400 underline decoration-wavy decoration-[0.5px] cursor-pointer",title:t.__("The wordpress hook to load the snippet on. Default is plugins_loaded. If the snippet has conditions active it will default to 'wp' hook.")},p(t.__("Load on hook","snipvault")),9,ga)]),n(yt,{modelValue:u(o).meta.snippet_settings.hook,"onUpdate:modelValue":s[10]||(s[10]=g=>u(o).meta.snippet_settings.hook=g)},null,8,["modelValue"])],64)):D("",!0),e("div",wa,[e("span",ha,p(t.__("Language","snipvault")),1)]),n(X,{modelValue:u(o).meta.snippet_settings.language,"onUpdate:modelValue":s[11]||(s[11]=g=>u(o).meta.snippet_settings.language=g),options:w,class:"col-span-2"},null,8,["modelValue"]),e("div",ya,[e("span",ba,p(t.__("Version","snipvault")),1)]),n(F,{type:"text",modelValue:u(o).meta.snippet_settings.version,"onUpdate:modelValue":s[12]||(s[12]=g=>u(o).meta.snippet_settings.version=g),placeholder:"1.0.0",class:"col-span-2"},null,8,["modelValue"]),e("div",xa,[e("span",ka,p(t.__("Load for","snipvault")),1)]),n(X,{modelValue:u(o).meta.snippet_settings.load_for,"onUpdate:modelValue":s[13]||(s[13]=g=>u(o).meta.snippet_settings.load_for=g),options:q,class:"col-span-2"},null,8,["modelValue"]),e("div",za,[e("span",$a,p(t.__("Location","snipvault")),1)]),n(X,{modelValue:u(o).meta.snippet_settings.location,"onUpdate:modelValue":s[14]||(s[14]=g=>u(o).meta.snippet_settings.location=g),options:O,class:"col-span-2"},null,8,["modelValue"]),e("div",Va,[e("span",{class:"text-sm text-zinc-500 dark:text-zinc-400 underline decoration-wavy decoration-[0.5px] cursor-pointer",title:t.__("SnipVault will only load the snippet if the current user has the specified capability.","snipvault")},p(t.__("Needs capability","snipvault")),9,Ca)]),n(F,{type:"text",modelValue:u(o).meta.snippet_settings.capability,"onUpdate:modelValue":s[15]||(s[15]=g=>u(o).meta.snippet_settings.capability=g),placeholder:"manage_options",class:"col-span-2"},null,8,["modelValue"]),u(o).meta.snippet_settings.language=="JAVASCRIPT"||u(o).meta.snippet_settings.language=="HTML"?(a(),i(I,{key:1},[e("div",Sa,[e("span",Pa,p(t.__("Load in footer","snipvault")),1)]),n(de,{modelValue:u(o).meta.snippet_settings.footer,"onUpdate:modelValue":s[16]||(s[16]=g=>u(o).meta.snippet_settings.footer=g),class:"col-span-2"},null,8,["modelValue"])],64)):D("",!0),u(o).meta.snippet_settings.language=="JAVASCRIPT"?(a(),i(I,{key:2},[e("div",Ua,[e("span",Ta,p(t.__("Is module","snipvault")),1)]),n(de,{modelValue:u(o).meta.snippet_settings.module,"onUpdate:modelValue":s[17]||(s[17]=g=>u(o).meta.snippet_settings.module=g),class:"col-span-2"},null,8,["modelValue"])],64)):D("",!0),e("div",Ma,[e("span",Aa,p(t.__("Description","snipvault")),1)]),n(Re,{modelValue:u(o).meta.snippet_settings.description,"onUpdate:modelValue":s[18]||(s[18]=g=>u(o).meta.snippet_settings.description=g),class:"col-span-2",rows:"5"},null,8,["modelValue"])])):D("",!0),e("div",{class:"col-span-3 flex flex-row place-content-between items-center p-6 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100 border-b",onClick:s[19]||(s[19]=g=>d.value=!d.value)},[e("div",Da,p(t.__("Conditions","snipvault")),1),n(E,{type:"transparent",class:"text-sm"},{default:A(()=>[n(L,{icon:d.value?"remove":"add"},null,8,["icon"])]),_:1})]),d.value?(a(),N(ea,{key:1})):D("",!0),e("div",{class:W(["col-span-3 flex flex-row place-content-between items-center p-6 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100",[V.value?"border-b":"",d.value?"border-t":""]]),onClick:s[20]||(s[20]=g=>V.value=!V.value)},[e("div",Ea,p(t.__("Code revisions","snipvault")),1),n(E,{type:"transparent",class:"text-sm"},{default:A(()=>[n(L,{icon:V.value?"remove":"add"},null,8,["icon"])]),_:1})],2),V.value?(a(),N(Ct,{key:2,ref_key:"revisionsComp",ref:P},null,512)):D("",!0),u(o).meta.snippet_settings.language=="PHP"?(a(),i("div",{key:3,class:"col-span-3 flex flex-row place-content-between items-center p-6 border-b border-t border-zinc-200 dark:border-zinc-700 cursor-pointer hover:text-zinc-950 dark:hover:text-zinc-100",onClick:s[21]||(s[21]=g=>U.value=!U.value)},[e("div",La,p(t.__("Errors","snipvault")),1),n(E,{type:"transparent",class:"text-sm"},{default:A(()=>[n(L,{icon:U.value?"remove":"add"},null,8,["icon"])]),_:1})])):D("",!0),U.value?(a(),N(It,{key:4,modelValue:u(o),"onUpdate:modelValue":s[22]||(s[22]=g=>Le(o)?o.value=g:null)},null,8,["modelValue"])):D("",!0)])):D("",!0)])])):D("",!0)}}};export{Ja as default};
//# sourceMappingURL=index-DnzTV4E_.js.map
